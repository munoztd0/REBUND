// Define study
const study = lab.util.fromObject({
  "title": "root",
  "type": "lab.flow.Sequence",
  "parameters": {},
  "plugins": [
    {
      "type": "lab.plugins.Metadata",
      "path": undefined
    },
    {
      "type": "global.Pavlovia",
      "path": undefined
    }
  ],
  "metadata": {
    "title": "REBUND_v1",
    "description": "In this experiment, participants are asked to make decisions between several sets of snacks according to their food preferences. After completing the task, we ask them to answer some questions about the task itself, and to fill out some questionnaires.\nThe whole experiment takes for about 30 minutes. Participants receive a compensation of 10 Swiss francs (converted to the currency used by Prolific.co) for their participation.",
    "repository": "https:\u002F\u002Fgitlab.pavlovia.org\u002FE3lab\u002Frebund",
    "contributors": "David Munoz Tord \u003Cdavid.munoz@etu.unige.ch\u003E (https:\u002F\u002Fwww.unige.ch\u002Ffapse\u002Fe3lab\u002Fmembers1\u002Fphd-candidates\u002Fdavid-munoz-tord)\nAlessio Giarrizzo \u003Calessio.giarrizzo@unige.ch\u003E (https:\u002F\u002Fwww.unige.ch\u002Ffapse\u002Fe3lab\u002Fmembers1\u002Fphd-candidates\u002Falessio-giarrizzo\u002F)\nYoann Stussi \u003Cystussi@fas.harvard.edu\u003E (https:\u002F\u002Fphelpslab.com\u002Fyoann-stussi)"
  },
  "messageHandlers": {},
  "files": {},
  "responses": {},
  "content": [
    {
      "type": "lab.html.Page",
      "items": [
        {
          "required": true,
          "type": "html",
          "content": "\u003Cmain\u003E\n  \u003Cdiv style=\"margin-left: -50%; margin-right: -50%; border-style: solid; border-width: 2px; padding: 15px; font-size: 20px\"\u003E\n    \u003Cp\u003E\u003Cb\u003EStudy title:\u003C\u002Fb\u003E Study of Food Preferences\u003C\u002Fp\u003E\n    \u003Cp\u003E\u003Cb\u003ELaboratory:\u003C\u002Fb\u003E Laboratory for the study Emotion Elicitation and Expression (E3Lab)\u003C\u002Fp\u003E\n    \u003Cp\u003E\u003Cb\u003EVersion Date:\u003C\u002Fb\u003E 22\u002F04\u002F2021\u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\u003Cbr\u003E\n\u003C\u002Fmain\u003E",
          "name": ""
        }
      ],
      "scrollTop": true,
      "submitButtonText": "Continue →",
      "submitButtonPosition": "right",
      "files": {},
      "responses": {
        "keydown(ArrowRight)": ""
      },
      "parameters": {},
      "messageHandlers": {},
      "title": "Title",
      "width": "m"
    },
    {
      "type": "lab.canvas.Screen",
      "content": [],
      "viewport": [
        800,
        600
      ],
      "files": {},
      "responses": {
        "": ""
      },
      "parameters": {},
      "messageHandlers": {
        "run": function anonymous() {
// MTURK OR PROLIFIC INFO
if (typeof jatos !== "undefined"){
  // mturk
  if (typeof jatos.urlQueryParameters.workerId !== "undefined"){
    // worker ID
    this.data.mturkID = jatos.urlQueryParameters.workerId;
    // assignment ID
    this.data.assignmentID = jatos.urlQueryParameters.assignmentId;
    // hit ID
    this.data.hitID = jatos.urlQueryParameters.hitId;
  } else if (typeof jatos.urlQueryParameters.PROLIFIC_PID !== "undefined"){
    // prolific
    // prolific ID
    this.data.prolific_ID = jatos.urlQueryParameters.PROLIFIC_PID;
    // study ID
    this.data.pstudyID = jatos.urlQueryParameters.STUDY_ID;
    // session ID
    this.data.psessionID = jatos.urlQueryParameters.SESSION_ID;
  }
} else {
  // mturk
  if (typeof this.state.url.workerId !== "undefined"){
    // worker ID
    this.data.mturkID = this.state.url.workerId;
    // assignment ID
    this.data.assignmentID = this.state.url.assignmentId;
    // hit ID
    this.data.hitID = this.state.url.hitId;
  } else if (typeof this.state.url.PROLIFIC_PID !== "undefined"){
    // prolific
    // prolific ID
    this.data.prolific_ID = this.state.url.PROLIFIC_PID;
    // study ID
    this.data.pstudyID = this.state.url.STUDY_ID;
    // session ID
    this.data.psessionID = this.state.SESSION_ID;
  }
}
//

// SYSTEM INFO
// Get browser information
var nVer = navigator.appVersion;
var nAgt = navigator.userAgent;
var browserName  = navigator.appName;
var fullVersion  = ''+parseFloat(navigator.appVersion); 
var majorVersion = parseInt(navigator.appVersion,10);
var nameOffset,verOffset,ix;

// In Opera 15+, the true version is after "OPR/" 
if ((verOffset=nAgt.indexOf("OPR/"))!=-1) {
 browserName = "Opera";
 fullVersion = nAgt.substring(verOffset+4);
}
// In older Opera, the true version is after "Opera" or after "Version"
else if ((verOffset=nAgt.indexOf("Opera"))!=-1) {
 browserName = "Opera";
 fullVersion = nAgt.substring(verOffset+6);
 if ((verOffset=nAgt.indexOf("Version"))!=-1) 
   fullVersion = nAgt.substring(verOffset+8);
}
// In MSIE, the true version is after "MSIE" in userAgent
else if ((verOffset=nAgt.indexOf("MSIE"))!=-1) {
 browserName = "Microsoft Internet Explorer";
 fullVersion = nAgt.substring(verOffset+5);
}
// In Chrome, the true version is after "Chrome" 
else if ((verOffset=nAgt.indexOf("Chrome"))!=-1) {
 browserName = "Chrome";
 fullVersion = nAgt.substring(verOffset+7);
}
// In Safari, the true version is after "Safari" or after "Version" 
else if ((verOffset=nAgt.indexOf("Safari"))!=-1) {
 browserName = "Safari";
 fullVersion = nAgt.substring(verOffset+7);
 if ((verOffset=nAgt.indexOf("Version"))!=-1) 
   fullVersion = nAgt.substring(verOffset+8);
}
// In Firefox, the true version is after "Firefox" 
else if ((verOffset=nAgt.indexOf("Firefox"))!=-1) {
 browserName = "Firefox";
 fullVersion = nAgt.substring(verOffset+8);
}
// In most other browsers, "name/version" is at the end of userAgent 
else if ( (nameOffset=nAgt.lastIndexOf(' ')+1) < 
          (verOffset=nAgt.lastIndexOf('/')) ) 
{
 browserName = nAgt.substring(nameOffset,verOffset);
 fullVersion = nAgt.substring(verOffset+1);
 if (browserName.toLowerCase()==browserName.toUpperCase()) {
  browserName = navigator.appName;
 }
}
// trim the fullVersion string at semicolon/space if present
if ((ix=fullVersion.indexOf(";"))!=-1)
   fullVersion=fullVersion.substring(0,ix);
if ((ix=fullVersion.indexOf(" "))!=-1)
   fullVersion=fullVersion.substring(0,ix);

majorVersion = parseInt(''+fullVersion,10);
if (isNaN(majorVersion)) {
 fullVersion  = ''+parseFloat(navigator.appVersion); 
 majorVersion = parseInt(navigator.appVersion,10);
}

// detecting OS
var OSName="Unknown OS";
if (navigator.appVersion.indexOf("Win")!=-1) OSName="Windows";
if (navigator.appVersion.indexOf("Mac")!=-1) OSName="MacOS";
if (navigator.appVersion.indexOf("X11")!=-1) OSName="UNIX";
if (navigator.appVersion.indexOf("Linux")!=-1) OSName="Linux";

// save browser & OS info
this.data.browser_name = browserName;
this.data.full_version = fullVersion;
this.data.major_version = majorVersion;
this.data.navigator_appName = navigator.appName;
this.data.navigator_userAgent = navigator.userAgent;
this.data.os = OSName;
}
      },
      "title": "get_systemInfo",
      "timeout": "0",
      "tardy": true
    },
    {
      "type": "lab.flow.Sequence",
      "files": {},
      "responses": {
        "": ""
      },
      "parameters": {},
      "messageHandlers": {},
      "title": "Fullscreen",
      "plugins": [
        {
          "type": "fullscreen",
          "path": "lab.plugins.Fullscreen"
        }
      ],
      "content": [
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain style=\"width: 60%; margin: auto; text-align: left\"\u003E\n  \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['section_psy_noir.png'] }\" style=\"width: 200px; height: 100px\" id=\"hp\"\u002F\u003E\u003C\u002Fimg\u003E\n\t\u003C\u002Fdiv\u003E\n\t  \u003Cdiv\u003E\n\t    \u003Cstrong\u003ERESEARCH\u003C\u002Fstrong\u003E\u003Cbr\u003E\n        Study of Food Preferences\u003Cbr\u003E\n\t\t\u003Cbr\u003E\n\t    \u003Cstrong\u003EIN CHARGE OF THE RESEARCH\u003C\u002Fstrong\u003E\u003Cbr\u003E\n        Prof. David Sander, Full Professor\u003Cbr\u003E\n        Dr. Eva Pool, Senior Researcher and Lecturer\u003Cbr\u003E\n        Alessio Giarrizzo, PhD Student and Teaching Assistant\u003Cbr\u003E\n        Department of Psychology, University of Geneva\u003Cbr\u003E\n\t\t\t\tLaboratory for the Study of Emotion Elicitation and Expression \u003Cbr\u003E\n\t\t\t\tBoulevard du Pont-d'Arve 40, 1205 Geneva, Switzerland\u003Cbr\u003E\n\t\t\u003Cbr\u003E\n\t\t\u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cstrong\u003EINFORMATION TO PARTICIPANTS AND PARTICIPATION CONSENT\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\t    \u003Cbr\u003E\n\t\t\u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cstrong\u003EInformation to Participants\u003C\u002Fstrong\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cp\u003E\u003Cstrong\u003EGeneral aims of the research:\u003C\u002Fstrong\u003E measuring food preferences through choices.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003EProcedure: the study consists of four phases:\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cul\u003E\n\t\t\t\u003Cli\u003EIn the first phase, you will be asked several personal information. \u003C\u002Fli\u003E\n\t\n\t\t\t\u003Cli\u003EIn the second phase, we will present you a set of food items that you will have to evaluate according to your preferences;\u003C\u002Fli\u003E\n\t\t\t\n\t\t\t\u003Cli\u003EIn the third phase, you will perform a task consisting of choices between different snacks composed of the food items you will have evaluated in the second phase;\u003C\u002Fli\u003E\n\t\t\t\n\t\t\t\u003Cli\u003EIn the fourth and final phase, you will answer a set of questions about your emotions and food habits.\u003C\u002Fli\u003E\n\t\t\t\n\t    \u003C\u002Ful\u003E\n\t\t\n\t\t\u003Cp\u003EThe total duration of the experiment is approximately 30 minutes. However, you can choose to terminate the experiment at any moment without giving any justification.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003E\u003Cstrong\u003EData protection:\u003C\u002Fstrong\u003E your answers will be recorded and stored in a completely anonymous manner on a British server belonging to the Open Science Ltd. company. This company is committed to not sharing your data with any third party, and their data storage methods are compliant with the European General Data Protection Regulation (GDPR). Moreover, Open Science Ltd. will collect your IP address on temporary files which allow for the proper functioning of the servers. However, be aware that we will not have access to that information and that there is no way to link this information with the data we will be collecting during the experiment. The data we will collect will be exclusively accessible to the people listed in the section \u003Cstrong\u003EIN CHARGE OF THE RESEARCH\u003C\u002Fstrong\u003E; as well as to the server administrators. These data will subsequently be transferred to a server hosted in the University of Geneva, inside the Swiss Centre for Affective Sciences; and will be deleted from the British server within 3 months after the end of data collection. The data will then be stored indefinitely in the University. They can be reused in future research and uploaded on collaborative (“open science”) research platforms so as to be shared with other researchers. Since the data are completely anonymous, no link can be established between them and your personal identity.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003E\u003Cstrong\u003ECompensation for participants:\u003C\u002Fstrong\u003E you will receive a monetary compensation of 10 Swiss Francs for the duration of the experiment, converted to the currency used by the platform Prolific.co.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003E\u003Cstrong\u003EInconvenience and potential risks for the participants:\u003C\u002Fstrong\u003E we do not think that this experiment would result in any risk for your health.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003E\u003Cstrong\u003EAccess to the research outcomes:\u003C\u002Fstrong\u003E in the event you would be interested in the results of this research, you can contact the people listed below from March 1st, 2021.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003E\u003Cstrong\u003EContacts:\u003C\u002Fstrong\u003E Prof. David Sander (\u003Ca href=\"mailto:david.sander@unige.ch\"\u003Edavid.sander@unige.ch\u003C\u002Fa\u003E), Dr. Eva Pool (\u003Ca href=\"mailto:eva.pool@unige.ch\"\u003Eeva.pool@unige.ch\u003C\u002Fa\u003E), Alessio Giarrizzo (\u003Ca href=\"mailto:alessio.giarrizzo@unige.ch\"\u003Ealessio.giarrizzo@unige.ch\u003C\u002Fa\u003E).\u003C\u002Fp\u003E\n\t\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cbr\u003E\n\t\u003Cbr\u003E\n\t\n\t\u003Cdiv\u003E\n\t    \u003Cstrong\u003EParticipation Consent\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cp\u003EOn the basis of the information above, I confirm my agreement to participate in the research “\u003Cstrong\u003EStudy of Food Preferences\u003C\u002Fstrong\u003E”, and I authorise:\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cform id=\"consent_form\"\u003E\n\t\t\t\u003Cinput type=\"checkbox\" name=\"consent_form1\" id=\"consent_form1\" required\u003E\n\t\t\t\u003Clabel for=\"consent_form1\"\u003E\n               The use of data for scientific purposes, and the publication of the results of this research in scientific reviews and books, on the understanding that these data will remain anonymous and that no information will be provided on my identity.\u003C\u002Flabel\u003E\u003Cbr\u003E\n\t\t\t\u003Cbr\u003E\n\t\t\t\u003Cinput type=\"checkbox\" name=\"consent_form2\" id=\"consent_form2\" required\u003E\n\t\t\t\u003Clabel for=\"consent_form2\"\u003E\n               The use of data for educational purposes (lectures and seminars for students and professionals who are bound by professional secrecy).\u003C\u002Flabel\u003E\n\t\t\u003C\u002Fform\u003E\n\t\t\n\t\t\u003Cp\u003EI have \u003Cstrong\u003Evoluntarily\u003C\u002Fstrong\u003E chosen to participate in this research. I have been informed that I can withdraw at any moment without providing a justification.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003EThis consent form does not relieve the organisers of the research from their responsibilities. I retain all my rights guaranteed by law.\u003C\u002Fp\u003E\n\t\t\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cbr\u003E\n\t\u003Cbr\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cstrong\u003ERESEARCHERS COMMITMENT\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\t    \u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\n\t\t\u003Cp\u003EThe researchers in charge of this project confirm that the information that appear on this consent form describe the research project accurately.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003EThey commit themselves to proceed to this study in accordance with the ethics norms regarding research projects that involve human participants, in pursuance of the \u003Ci\u003EEthical code relative to research within the Faculty of psychology and educational sciences\u003C\u002Fi\u003E, and the \u003Ci\u003EDirectives relative to integrity in the domain of scientific research and to the procedures in case of violation of integrity\u003C\u002Fi\u003E of the University of Geneva.\u003C\u002Fp\u003E\n\t\n\t\u003C\u002Fdiv\u003E\n\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left: auto; margin-right: 0\"\u003E\n    \u003Cbutton type=\"submit\" form=\"consent_form\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {
            "section_psy_noir.png": "embedded\u002Ff3f827ad609ce548162e9057533efb59cb20b2af86326981a585c3c4e478f68f.png"
          },
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "ConsentForm"
        },
        {
          "type": "lab.html.Page",
          "items": [
            {
              "required": true,
              "type": "html",
              "content": "\u003Cmain\u003E\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"margin-left:-40%; margin-right:-40%; font-size: 25px\"\u003E\n    \u003Cp\u003EThis research seeks to develop a task that will be used in a clinical setting (i.e. with patients suffering from eating disorders).\u003C\u002Fp\u003E\n    \u003Cp\u003EThe outcome of this project will critically depend on your participation and on your maintained attention throughout the whole task.\u003C\u002Fp\u003E\n    \u003Cp\u003ETherefore, we truly appreciate your effort to participate to the best of your ability.\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E",
              "name": ""
            }
          ],
          "scrollTop": true,
          "submitButtonText": "Continue →",
          "submitButtonPosition": "right",
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "PepTalk"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \u003Cp\u003EPlease answer to the following questions on to continue.\u003C\u002Fp\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cform id=\"demo\"\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"gender1\"\u003EFemale\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"gender2\"\u003EMale\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"gender3\"\u003EPrefer not to say\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"gender4\"\u003EOther\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n          \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cstrong\u003EPlease provide your biological sex:\u003C\u002Fstrong\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"gender\" value=\"1\" id=\"gender1\" title=\"female\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"gender\" value=\"2\" id=\"gender2\" title=\"male\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"gender\" value=\"3\" id=\"gender3\" title=\" not\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"gender\" value=\"4\" id=\"gender4\" title=\"other\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"edu1\"\u003EMiddle School\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"edu2\"\u003EHigh School\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"edu3\"\u003EBachelor\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"edu4\"\u003EMaster\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"edu5\"\u003EPhD\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"edu6\"\u003EOther\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n          \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cstrong\u003EPlease provide your highest academic degree:\u003C\u002Fstrong\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"edu\" value=\"1\" id=\"edu1\" title=\"mid\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"edu\" value=\"2\" id=\"edu2\" title=\"high\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"edu\" value=\"3\" id=\"edu3\" title=\"master\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"edu\" value=\"4\" id=\"edu4\" title=\"bachelor\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"edu\" value=\"5\" id=\"edu5\" title=\"PhD\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"edu\" value=\"6\" id=\"edu6\" title=\"other\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black; text-align: left;\"\u003E\n        \u003Ctr\u003E\n        \u003Clabel for=\"input_age\"\u003E\u003Cstrong\u003EPlease provide your age:\u003C\u002Fstrong\u003E\u003C\u002Flabel\u003E\n        \u003Cinput type=\"text\" name=\"input_age\" id=\"input_age\" required\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Ctable style=\"color: black; text-align: left;\"\u003E\n        \u003Ctr\u003E\n        \u003Clabel for=\"input_occ\"\u003E\u003Cstrong\u003EPlease provide your occupation:\u003C\u002Fstrong\u003E\u003C\u002Flabel\u003E\n        \u003Cinput type=\"text\" name=\"input_occ\" id=\"input_occ\" required\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"demo\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "Demographics"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \u003Cp\u003EPlease answer to the following questions to continue.\u003C\u002Fp\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cform id=\"inclu\"\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"diet1\"\u003EYes\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"diet2\"\u003ENo\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n           \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003E\n            Are you currently on a diet?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"diet\" value=\"0\" title=\"yes\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"diet\" value=\"1\" title=\"no\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"enjoy1\"\u003EYes\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"enjoy2\"\u003ENo\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n           \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003E\n            Do you usually enjoy to have small snacks between meals?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"enjoy\" value=\"1\" title=\"yes\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"enjoy\" value=\"0\" title=\"no\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"disorder1\"\u003EYes\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"disorder2\"\u003ENo\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n           \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003E\n            Do you currently have, or have had, one or several eating disorder(s)?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"disorder\" value=\"0\" title=\"yes\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"disorder\" value=\"1\" title=\"no\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"inclu\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "InclusionCrit"
        },
        {
          "type": "lab.flow.Sequence",
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "Main",
          "content": [
            {
              "type": "lab.html.Page",
              "items": [
                {
                  "type": "text",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n\n\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \u003Cp\u003EPlease answer to the following question to continue.\u003C\u002Fp\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cform id=\"snack\"\u003E\n        \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"snack1\"\u003E\u003Cstrong\u003EA sweet snack\u003C\u002Fstrong\u003E (chocolate, fruits, cookies)\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"snack2\"\u003E\u003Cstrong\u003EA salty snack\u003C\u002Fstrong\u003E (nuts, chips, veggies)\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n         \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003E\n            Right now, would you prefer:\n            \u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"snack\" value=\"0\" title=\"yes\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"snack\" value=\"1\" title=\"no\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003C\u002Ftable\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E"
                }
              ],
              "scrollTop": true,
              "submitButtonText": "Continue →",
              "submitButtonPosition": "right",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "Selection"
            },
            {
              "type": "lab.html.Page",
              "items": [
                {
                  "type": "text",
                  "content": "\u003Cmain\u003E\n\u003Cp\u003E\u003Cstrong\u003ELoading, please wait...\u003C\u002Fp\u003E\n  \u003Cimg src=\"${ this.files['load.gif'] }\" \n      alt=\"load\" width = \"500\"\u003E\n\u003C\u002Fmain\u003E"
                }
              ],
              "scrollTop": true,
              "submitButtonText": "Continue →",
              "submitButtonPosition": "hidden",
              "files": {
                "load.gif": "embedded\u002Fe49bfee6746894653d2ddabfc7438a1c3283ec6914f0cf31252e21ddf1c6fa8e.gif"
              },
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "Load",
              "timeout": "15"
            },
            {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {
                "before:prepare": function anonymous() {


this.parameters.skip = this.state.snack == 1 //salt = 1

}
              },
              "title": "SequenceSweet",
              "tardy": true,
              "skip": "${this.parameters.skip}",
              "content": [
                {
                  "type": "lab.html.Screen",
                  "files": {},
                  "parameters": {},
                  "responses": {
                    "keypress(Space)": "continue"
                  },
                  "messageHandlers": {},
                  "title": "ratings_instructions",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E \n  \u003Csection class=\"w-l text-justify\" style=\"font-size: 1.2rem; margin: auto\"\u003E\n    \u003Cp\u003EDuring the next part of the experiment, we will ask you to rate the various images that were presented during the game.\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease rate the images according to the following scale:\u003C\u002Fp\u003E\n\n    \u003Cul style=\"font-size: 1rem; list-style: none; text-align: center; padding: 30px\"\u003E\n      \u003Cli\u003ETo which extent you like the displayed food item?\u003Cbr\u003E\n      \u003Cspan style=\"color: #a9a9a9;\"\u003E(0 = Extremely unpleasant, 100 = Extremely pleasant)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cbr\u003E\n      \u003C!-- \u003Cli\u003ETo what extent is this image arousing?\u003Cbr\u003E\n      \u003Cspan style=\"color: #a9a9a9;\"\u003E(0 = Not at all arousing, 100 = Extremely arousing)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cbr\u003E--\u003E\n      \u003C\u002Ful\u003E\n\n      \u003Cp\u003EPlease use the mouse to move the cursor on the scale and click on the button \u003Ckbd style=\"color: black\"\u003EContinue\u003C\u002Fkbd\u003E to validate your response.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E",
                  "tardy": true
                },
                {
                  "type": "lab.flow.Loop",
                  "templateParameters": [
                    {
                      "img": "cherry.png",
                      "name": "cherry",
                      "group": "healthy"
                    },
                    {
                      "img": "chocolate_truffle.png",
                      "name": "chocolate truffle",
                      "group": "unhealthy"
                    },
                    {
                      "img": "chocolate.png",
                      "name": "chocolate",
                      "group": "unhealthy"
                    },
                    {
                      "img": "coconut.png",
                      "name": "coconut",
                      "group": "healthy"
                    },
                    {
                      "img": "grape.png",
                      "name": "grape",
                      "group": "healthy"
                    },
                    {
                      "img": "gummybear.png",
                      "name": "gummybear",
                      "group": "unhealthy"
                    },
                    {
                      "img": "liqorice.png",
                      "name": "liquorice",
                      "group": "unhealthy"
                    },
                    {
                      "img": "m&m.png",
                      "name": "m&m",
                      "group": "unhealthy"
                    },
                    {
                      "img": "maltesers.png",
                      "name": "malteser",
                      "group": "unhealthy"
                    },
                    {
                      "img": "marshmallow.png",
                      "name": "marshmallow",
                      "group": "unhealthy"
                    },
                    {
                      "img": "orange.png",
                      "name": "orange",
                      "group": "healthy"
                    },
                    {
                      "img": "pear.png",
                      "name": "pear",
                      "group": "healthy"
                    },
                    {
                      "img": "praline.png",
                      "name": "praline",
                      "group": "unhealthy"
                    },
                    {
                      "img": "raspberry.png",
                      "name": "raspberry",
                      "group": "healthy"
                    },
                    {
                      "img": "strawberry.png",
                      "name": "strawberry",
                      "group": "healthy"
                    },
                    {
                      "img": "apple.png",
                      "name": "apple",
                      "group": "healthy"
                    },
                    {
                      "img": "candy.png",
                      "name": "candy",
                      "group": "unhealthy"
                    },
                    {
                      "img": "blueberry.png",
                      "name": "blueberry",
                      "group": "healthy"
                    }
                  ],
                  "sample": {
                    "mode": "draw-shuffle",
                    "n": ""
                  },
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "rating_loop",
                  "shuffleGroups": [],
                  "template": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {},
                    "title": "rating_sequence",
                    "content": [
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 28.03,
                            "height": 54.24,
                            "stroke": "#ffffff",
                            "strokeWidth": 1,
                            "fill": "#ffffff",
                            "text": "+",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": "48",
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "files": {},
                        "parameters": {},
                        "responses": {
                          "": ""
                        },
                        "messageHandlers": {},
                        "viewport": [
                          800,
                          600
                        ],
                        "title": "fixCross",
                        "timeout": "500"
                      },
                      {
                        "type": "lab.html.Form",
                        "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection style=\"width: 80%;\"\u003E\n    \u003C!-- question division --\u003E\n    \u003Cdiv style=\"font-family: sans-serif; font-size: 2rem\"\u003E\n      \u003Cp\u003E To what extent do you like this ${ this.parameters.name }? \u003C\u002Fp\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003C!-- image division --\u003E\n    \u003Cdiv class=\"content-vertical-center content-horizontal-center\" style=\"height: 400px\"\u003E\n      \u003Cimg src=\"${ this.files[this.parameters.img] }\" alt=\"stimulus\" style=\"width:6cm; height=6cm\"\u003E\n    \u003C\u002Fdiv\u003E\n    \u003C!-- form division --\u003E\n    \u003Cform id=\"form_VAS\"\u003E\n      \u003C!-- slider division --\u003E\n      \u003Cdiv class=\"slidecontainer\" style=\"height: 25px; padding: 0; font-family: sans-serif; font-size: 1.2rem\"\u003E\n        \u003Cinput name=\"valence\" id=\"valence\" type=\"range\" min=\"0\" max=\"100\" value=\"50\" class=\"slider\" style=\"width: 50%; height: 10px\"\u003E  \n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fform\u003E\n\n    \u003C!-- labels division --\u003E\n    \u003Cdiv class=\"labelL\" style=\"color: #a9a9a9; font-family: sans-serif; font-size: 1.2rem\"\u003E\n      0\u003Cbr\u003E Extremely unpleasant\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv class=\"labelR\" style=\"color: #a9a9a9; font-family: sans-serif; font-size: 1.2rem\"\u003E\n      100\u003Cbr\u003E Extremely pleasant\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"form_VAS\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
                        "scrollTop": true,
                        "files": {
                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png"
                        },
                        "responses": {
                          "(ArrowRight)": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.img];
// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);


}
                        },
                        "title": "Rating"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Screen",
                  "files": {},
                  "parameters": {
                    "message": "Transferring data",
                    "subtitle": "Please wait a second…"
                  },
                  "responses": {
                    "": ""
                  },
                  "messageHandlers": {
                    "run": function anonymous() {
const transmitPlugins = this.parents[0].plugins.plugins
  .filter(p => p instanceof lab.plugins.Transmit)

if (transmitPlugins.length > 0) {
  // If a transmitPlugin is available,
  // pull out its options and transfer the data
  const ds = this.options.datastore
  const tp = transmitPlugins[0]
  ds.transmit(
    tp.url,
    { ...tp.metadata, payload: 'full' },
    { headers: tp.headers, encoding: tp.encoding },
  ).then(
    () => this.end('transmission successful')
  ).catch(
    () => this.end('transmission failed')
  )
} else if ('jatos' in window) {
  // If JATOS is available, send data there
  jatos.submitResultData(
    this.options.datastore.exportJson(),
    () => this.end('transmission successful'),
    () => this.end('transmission failed')
  )
} else {
  this.end('no compatible backend')
}
}
                  },
                  "title": "data_transmission",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n    \u003Cimg src=\"lib\u002Floading.svg\"\u003E\n    \u003Cp\u003E\n      \u003Cspan class=\"font-weight-bold\"\u003E\n        ${ this.parameters.message }\n      \u003C\u002Fspan\u003E\u003Cbr\u003E\n      \u003Cspan class=\"text-muted\"\u003E\n        ${ this.parameters.subtitle }\n      \u003C\u002Fspan\u003E\n    \u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                  "notes": "This template transmits the study data to a compatible server-side backend. Currently, it supports the PHP, Open Lab and JATOS backends.\n\nIt will wait until the data is transferred, showing a waiting screen with the text defined below, and continue with the remainder of the study after the transmission is complete. Please note that this screen will be skipped if no compatible backend is available."
                },
                {
                  "type": "lab.html.Screen",
                  "files": {
                    "choice.png": "embedded\u002F5f3af106895c6ec6ff457197419e9427bccd06bb0b383d3e8970dc20b772f210.png",
                    "selected.png": "embedded\u002F979ddd5b7b0146faaae64c990a05245f0e9d53bdaffd267c53d8515606a95981.png",
                    "choicehands.png": "embedded\u002F5eb1b7da466241425c3ebd62ea746962c5433c23af94811b7f1c7e39466b7a82.png",
                    "instru1.png": "embedded\u002Ff9c4e9dd9aa0d6060b92a9656de362814e68ef9ea24530e1de2c1ffdacd2414d.png",
                    "instru2.png": "embedded\u002F06f7ae21b05077da1a350ebe0faf6ca0f1bc6e884663a44c0488d6c2ba20cbd1.png",
                    "instru3.png": "embedded\u002F5a59a3465b8d19020db3c171758772e74c03d1dce10a764f5a9a88f74f44de8a.png",
                    "void.png": "embedded\u002F7140cc59f96eea6a0be5eaf89269f3520691756e5309434bdb7c6e7136c56ccb.png"
                  },
                  "parameters": {},
                  "responses": {
                    "": ""
                  },
                  "messageHandlers": {
                    "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["void.png", "choice.png", "selected.png", "choicehands.png"];
// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// INSTRUCTIONS
let done = false // is it the last screen?

const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible

    if(!target.nextElementSibling.nextElementSibling){ // if the end is reached
      setVisibility('#fwd', false) // hide the forward button
      setVisibility('#done', true) // show the end button
      done = true
    }
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#fwd', true) // make sure that 'forward' button is visible
    setVisibility('#done', false) // hide the 'done' button
    done = false

    if(!target.previousElementSibling.previousElementSibling){ // if the beginning is reached
      setVisibility('#bck', false) // hide the back button
    }
  } 
}

this.options.events['keydown(ArrowRight)'] = function(){
  moveForth("section[id^='inst_page']:not(.hidden)")
  moveForth("h2[id^='head']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='inst_page']:not(.hidden)")
  moveBack("h2[id^='head']:not(.hidden)")
}

this.options.events['keypress(Space)'] = function() {
    if(done)
      // End instructions
      this.end('done')
}
//
}
                  },
                  "title": "instructions",
                  "content": "\u003Cheader style=\"height: 60px; padding: 4px; margin: auto\"\u003E\r\n  \u003Ch2 id=\"head1\"\u003E \u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head2\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head3\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head4\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head5\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head6\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head7\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head8\" class=\"hidden\"\u003EInstructions Checks\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head9\" class=\"hidden\"\u003EInstructions Checks\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head10\" class=\"hidden\"\u003EInstructions Checks\u003C\u002Fh2\u003E\r\n\u003C\u002Fheader\u003E\r\n\r\n\u003Cmain class=\"content-horizontal-center content-vertical-center\" style=\"font-size: 1.2rem\"\u003E\r\n  \u003C!-- welcome: page 0--\u003E\r\n  \u003Csection id=\"inst_page0\" class=\"w-l text-justify\"\u003E\r\n    \u003Cp\u003EIn the following task, we will offer you several snacks with different proportions of your favourite food items.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EPress the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E to view the task instructions.\u003C\u002Fp\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 1--\u003E\r\n  \u003Csection id=\"inst_page1\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EDuring this task, you will have access to two options and you will be required to \u003Cstrong\u003Echoose the snack that you prefer\u003C\u002Fstrong\u003E using the left \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E and right \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E arrow keys of your keyboard.\u003C\u002Fp\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 2--\u003E\r\n  \u003Csection id=\"inst_page2\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EHere is an example of choices you will be making. In this example, you will have a choice between 7 pieces of chocolate on the one hand (Option 1), and 3 pieces of chocolate together with 4 slices of kiwi on the other hand (Option 2).\u003C\u002Fp\u003E\r\n    \u003Cp\u003EThe full bars on the side of each option indicates the proportion of each food item inside the snack.\u003C\u002Fp\u003E\r\n        \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['instru1.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n    \u003C!-- instructions: page 3--\u003E\r\n  \u003Csection id=\"inst_page3\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EAfter a short delay, the left \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E and right \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E arrow keys will appear on the bottom part of the screen.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EThis will indicate that you can now make your decision and choose the snack that you prefer.\u003C\u002Fp\u003E\r\n        \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['instru2.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 4--\u003E\r\n  \u003Csection id=\"inst_page4\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EIn this example, if you prefer the right snack (Option 2), you would press the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E key on your keyboard after the right and left keys appeared on the screen.\u003C\u002Fp\u003E\r\n        \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['instru3.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 5--\u003E\r\n  \u003Csection id=\"inst_page5\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EA green box will appear around the option you chose to inform you that your choice has been recorded.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EFor instance, in this example, you chose Option 2 which contains 3 pieces of chocolate and 4 slices of kiwi.\u003C\u002Fp\u003E        \r\n    \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['selected.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 6--\u003E\r\n  \u003Csection id=\"inst_page6\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EPlease note that \u003Cstrong\u003Eevery choice is independent\u003C\u002Fstrong\u003E: imagine that you would receive only one of the choices you have made, as if you were playing a lottery game.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EMoreover, it is important that you make each decision \u003Cstrong\u003Eintuitively\u003C\u002Fstrong\u003E, without considering the other choices that you have made so far.\u003C\u002Fp\u003E\r\n    \u003Cp\u003E\u003Cstrong\u003ETherefore, please try to be as fast and accurate as possible in making your decision\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIf your response is too slow, a reminder will appear onscreen asking you to respond faster.\u003C\u002Fp\u003E\r\n\r\n  \u003C\u002Fsection\u003E\r\n  \u003C!-- instructions: page 7--\u003E\r\n   \u003Csection id=\"inst_page7\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EAt certain times, one of the options will be empty, which will be represented by an empty box with an empty white bar.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIn this example, Option 1 is empty.\u003C\u002Fp\u003E        \r\n    \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['void.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n  \r\n  \u003C!-- instructions: page 8--\u003E\r\n  \u003Csection id=\"inst_page8\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003ENext, you will try some practice questions. Once you press the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E you CANNOT come back to the instructions.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIf you do not answer correctly to the practice questions, you will not be able to continue.\u003C\u002Fp\u003E\r\n  \u003C\u002Fsection\u003E\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  \u003Ctable class=\"table-plain\"\u003E\r\n    \u003Ctr\u003E\r\n      \u003Ctd id=\"bck\" style=\"visibility: hidden\"\u003E\r\n        \u003Cem\u003EPress the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen\u003C\u002Fem\u003E\r\n      \u003C\u002Ftd\u003E\r\n      \u003Ctd id=\"done\" style=\"visibility: hidden\"\u003E\r\n        \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\r\n      \u003C\u002Ftd\u003E\r\n      \u003Ctd id=\"fwd\"\u003E\r\n        \u003Cem\u003EPress the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E for the next screen\u003C\u002Fem\u003E\r\n      \u003C\u002Ftd\u003E\r\n    \u003C\u002Ftr\u003E\r\n  \u003C\u002Ftable\u003E\r\n\u003C\u002Ffooter\u003E",
                  "scrollTop": true
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {
                    "instructions05.png": "embedded\u002Fac6bc06fafc5d90b8eee70cc100c92df19e6741c5fef5f9531cadb87660a49ce.png",
                    "instructions06.png": "embedded\u002F10d84758b620ad53cf98b151b4f8c6cadb37855603bbe55687bffacbb7b4d6c9.png",
                    "instructions07.png": "embedded\u002F3221d44b1c803598aad75731ad6eb08da78ea62ca36e22983614b3152f6c8abc.png",
                    "instructions08.png": "embedded\u002F3abfb742b36acc2ed48cb5307186c1fe50078a8524587cf2958a517767228aa7.png",
                    "instructions09.png": "embedded\u002F03cfda1aebb7b979f1a1002cfedba2994818a0979359093ee616e30350accaa5.png"
                  },
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "practice_sequence",
                  "content": [
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "same.png": "embedded\u002F6a931f4858ac83b533ad5026b48e8f6dc1bda4042e9b68c167d2bf81b4be3a74.png"
                      },
                      "responses": {
                        "click #Q1_i3": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ1_imgArray = ["same.png"];
// preload media
this.options.media.images = pracQ1_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question1 = [
  {id: "Q1_i1", value: "false", opResp: "1"},
  {id: "Q1_i2", value: "false", opResp: "2"},
  {id: "Q1_i3", value: "correct", opResp: "3"},
  {id: "Q1_i4", value: "false", opResp: "4"}];

// randomize order
var prac_question1_order = this.random.shuffle(prac_question1);

// create parameters for response id, value, & option
this.parameters.pracQ1_IDa = prac_question1_order[0].id;
this.parameters.pracQ1_IDb = prac_question1_order[1].id;
this.parameters.pracQ1_IDc = prac_question1_order[2].id;
this.parameters.pracQ1_IDd = prac_question1_order[3].id;

this.parameters.pracQ1_valueA = prac_question1_order[0].value;
this.parameters.pracQ1_valueB = prac_question1_order[1].value;
this.parameters.pracQ1_valueC = prac_question1_order[2].value;
this.parameters.pracQ1_valueD = prac_question1_order[3].value;

this.parameters.pracQ1_optionA = prac_question1_order[0].opResp;
this.parameters.pracQ1_optionB = prac_question1_order[1].opResp;
this.parameters.pracQ1_optionC = prac_question1_order[2].opResp;
this.parameters.pracQ1_optionD = prac_question1_order[3].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q1_i1'] = function(){
  moveForth("section[id^='Q1_']:not(.hidden)")
}

this.options.events['click #Q1_i2'] = function(){
  moveForth("section[id^='Q1']:not(.hidden)")
}

this.options.events['click #Q1_i4'] = function(){
  moveForth("section[id^='Q1']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q1']:not(.hidden)")
}
}
                      },
                      "title": "Q1",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q1_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EAccording to the picture below, please indicate the \u003Cstrong\u003Enumber of kiwis in snack Option 1\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['same.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDa }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ1_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDb }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ1_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDc }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ1_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDd }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ1_optionD }\u003C\u002Fbutton\u003E\u003Cbr\u003E    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q1_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q1_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E",
                      "correctResponse": "input_Q1==3"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q1_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q1_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "choice.png": "embedded\u002F5f3af106895c6ec6ff457197419e9427bccd06bb0b383d3e8970dc20b772f210.png"
                      },
                      "responses": {
                        "click #Q2_i1": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ2_imgArray = ["choice.png"];
// preload media
this.options.media.images = pracQ2_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question2 = [
  {id: "Q2_i1", value: "correct", opResp: "Option 1"},
  {id: "Q2_i2", value: "opt2", opResp: "Option 2"},
  {id: "Q2_i3", value: "same", opResp: "Same amount"}];

// randomize order
var prac_question2_order = this.random.shuffle(prac_question2);

// create parameters for response id, value, & option
this.parameters.pracQ2_IDa = prac_question2_order[0].id;
this.parameters.pracQ2_IDb = prac_question2_order[1].id;
this.parameters.pracQ2_IDc = prac_question2_order[2].id;

this.parameters.pracQ2_valueA = prac_question2_order[0].value;
this.parameters.pracQ2_valueB = prac_question2_order[1].value;
this.parameters.pracQ2_valueC = prac_question2_order[2].value;

this.parameters.pracQ2_optionA = prac_question2_order[0].opResp;
this.parameters.pracQ2_optionB = prac_question2_order[1].opResp;
this.parameters.pracQ2_optionC = prac_question2_order[2].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q2_i2'] = function(){
  moveForth("section[id^='Q2_']:not(.hidden)")
}

this.options.events['click #Q2_i3'] = function(){
  moveForth("section[id^='Q2']:not(.hidden)")
}


this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q2']:not(.hidden)")
}
}
                      },
                      "title": "Q2",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q2_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EAccording to the picture below, please indicate the snack option that contains \u003Cstrong\u003Emore pieces of chocolate\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['choice.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ2_IDa }\" name=\"pracQ2\" value=\"${ this.parameters.pracQ2_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ2_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ2_IDb }\" name=\"pracQ2\" value=\"${ this.parameters.pracQ2_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ2_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ2_IDc }\" name=\"pracQ2\" value=\"${ this.parameters.pracQ2_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ2_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q2_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q2_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q2_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q2_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "diff.png": "embedded\u002Fe82cb29d1b3677078e328580dd3f041c4fda2a5b56184fc5e63f193004c46918.png"
                      },
                      "responses": {
                        "click #Q4_i1": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ4_imgArray = ["diff.png"];
// preload media
this.options.media.images = pracQ4_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question4 = [
  {id: "Q4_i1", value: "correct", opResp: "Press the arrow key that corresponds with the snack option I prefer"},
  {id: "Q4_i2", value: "indicate", opResp: "Indicate the number of food items in each snack option"},
  {id: "Q4_i3", value: "morefood", opResp: "Press the arrow key that corresponds with the snack option with more food items"},
  {id: "Q4_i4", value: "pressspace", opResp: "Press the space key"}];

// randomize order
var prac_question4_order = this.random.shuffle(prac_question4);

// create parameters for response id, value, & option
this.parameters.pracQ4_IDa = prac_question4_order[0].id;
this.parameters.pracQ4_IDb = prac_question4_order[1].id;
this.parameters.pracQ4_IDc = prac_question4_order[2].id;
this.parameters.pracQ4_IDd = prac_question4_order[3].id;

this.parameters.pracQ4_valueA = prac_question4_order[0].value;
this.parameters.pracQ4_valueB = prac_question4_order[1].value;
this.parameters.pracQ4_valueC = prac_question4_order[2].value
this.parameters.pracQ4_valueD = prac_question4_order[3].value;

this.parameters.pracQ4_optionA = prac_question4_order[0].opResp;
this.parameters.pracQ4_optionB = prac_question4_order[1].opResp;
this.parameters.pracQ4_optionC = prac_question4_order[2].opResp;
this.parameters.pracQ4_optionD = prac_question4_order[3].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)
  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q4_i2'] = function(){
  moveForth("section[id^='Q4_']:not(.hidden)")
}

this.options.events['click #Q4_i3'] = function(){
  moveForth("section[id^='Q4']:not(.hidden)")
}

this.options.events['click #Q4_i4'] = function(){
  moveForth("section[id^='Q4']:not(.hidden)")
}


this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q4']:not(.hidden)")
}
}
                      },
                      "title": "Q4",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q4_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EAccording to the picture below, please indicate what you are expected to do:\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['diff.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDa }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ4_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDb }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ4_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDc }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ4_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDd }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueD }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ4_optionD }\u003C\u002Fbutton\u003E\u003Cbr\u003E    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q4_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q4_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q4_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q4_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "selectedtest.png": "embedded\u002F5aa326083f21ce67e7593eea884aed0df67c1d7c2aaeaee2de6f30254533b1ac.png"
                      },
                      "responses": {
                        "click #Q5_i1": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ5_imgArray = ["selectedtest.png"];
// preload media
this.options.media.images = pracQ5_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question5 = [
  {id: "Q5_i1", value: "correct", opResp: "Snack Option 2 has been chosen"},
  {id: "Q5_i2", value: "morechoc2", opResp: "There are more pieces of chocolate in snack Option 2"},
  {id: "Q5_i3", value: "morekiwi1", opResp: "There are more slices of kiwi in snack Option 1"},
  {id: "Q5_i4", value: "chose1", opResp: "Snack Option 1 has been chosen"}];

// randomize order
var prac_question5_order = this.random.shuffle(prac_question5);

// create parameters for response id, value, & option
this.parameters.pracQ5_IDa = prac_question5_order[0].id;
this.parameters.pracQ5_IDb = prac_question5_order[1].id;
this.parameters.pracQ5_IDc = prac_question5_order[2].id;
this.parameters.pracQ5_IDd = prac_question5_order[3].id;

this.parameters.pracQ5_valueA = prac_question5_order[0].value;
this.parameters.pracQ5_valueB = prac_question5_order[1].value;
this.parameters.pracQ5_valueC = prac_question5_order[2].value
this.parameters.pracQ5_valueD = prac_question5_order[3].value;

this.parameters.pracQ5_optionA = prac_question5_order[0].opResp;
this.parameters.pracQ5_optionB = prac_question5_order[1].opResp;
this.parameters.pracQ5_optionC = prac_question5_order[2].opResp;
this.parameters.pracQ5_optionD = prac_question5_order[3].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)
  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q5_i2'] = function(){
  moveForth("section[id^='Q5_']:not(.hidden)")
}

this.options.events['click #Q5_i3'] = function(){
  moveForth("section[id^='Q5']:not(.hidden)")
}

this.options.events['click #Q5_i4'] = function(){
  moveForth("section[id^='Q5']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q5']:not(.hidden)")
}
}
                      },
                      "title": "Q5",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q5_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EWhat does this screen mean?\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['selectedtest.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDa }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ5_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDb }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ5_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDc }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ5_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDd }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueD }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ5_optionD }\u003C\u002Fbutton\u003E\u003Cbr\u003E    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q5_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q5_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q5_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q5_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    }
                  ]
                },
                {
                  "type": "lab.html.Screen",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "before:prepare": function anonymous() {
let done = false // is it the last screen?

const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible

    if(!target.nextElementSibling.nextElementSibling){ // if the end is reached
      setVisibility('#fwd', false) // hide the forward button
      setVisibility('#done', true) // show the end button
      done = true
    }
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#fwd', true) // make sure that 'forward' button is visible
    setVisibility('#done', false) // hide the 'done' button
    done = false

    if(!target.previousElementSibling.previousElementSibling){ // if the beginning is reached
      setVisibility('#bck', false) // hide the back button
    }
  } 
}

this.options.events['keydown(ArrowRight)'] = function(){
  moveForth("section[id^='inst2_page']:not(.hidden)")
  moveForth("h2[id^='head']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='inst2_page']:not(.hidden)")
  moveBack("h2[id^='head']:not(.hidden)")
}

this.options.events['keypress(Space)'] = function() {
    if(done)
      // End instructions
      this.end('done')
}
}
                  },
                  "title": "final_instru",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\" style=\"font-size: 1.2rem\"\u003E\n  \u003Csection id=\"inst2_page1\" class=\"w-l text-justify\"\u003E\n    \u003Cp\u003EGood job! You are ready to start the task.\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease remember to carefully follow the instructions and try your best. We really appreciate your hard work!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"inst2_page2\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EPlease complete the task and the rest of the experiment in a single run and be careful to advance to the completion screen at the end of the experiment so that your data will be saved.\u003C\u002Fp\u003E\n    \u003Cp\u003EIf the experiment does not work adequately, we will not be able to validate your participation.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"inst2_page3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EWe appreciate you taking the time to complete the task to the best of your ability.\u003C\u002Fp\u003E\n    \u003Cp\u003EThe task will take about 15 minutes. It will be followed by several questions after which you will be redirected to the questionnaires we will ask you to complete. The questionnaires will take about 15 minutes.\u003C\u002Fp\u003E\n    \u003Cp\u003EWhen you are ready to start the task, you can press on the \u003Ckbd style=\"color: black\"\u003Espacebar\u003C\u002Fkbd\u003E to start the experiment.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"visibility: hidden\"\u003E\n        \u003Cem\u003EPress the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen\u003C\u002Fem\u003E\n      \u003C\u002Ftd\u003E\n      \u003Ctd id=\"done\" style=\"visibility: hidden\"\u003E\n        \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to start the experiment\u003C\u002Fem\u003E\n      \u003C\u002Ftd\u003E\n      \u003Ctd id=\"fwd\"\u003E\n        \u003Cem\u003EPress the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E for the next screen\u003C\u002Fem\u003E \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "before:prepare": function anonymous() {
// initialize trial counter
this.state.trial_count = 0;
this.state.trial_countO = 0;
}
                  },
                  "title": "Block_sequence",
                  "content": [
                    {
                      "type": "lab.canvas.Screen",
                      "content": [],
                      "viewport": [
                        800,
                        600
                      ],
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "blank_screen",
                      "timeout": "2000"
                    },
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "block_1",
                      "content": [
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_1",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB15.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB16.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB17.png",
                                      "sublock": 1,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
debugger

function getValueIndex(value, array){
	let indexList = []
	for (i=0; i<array.length; i++){
  	if(array[i] === value){
    indexList.push(true)
    }else{
    indexList.push(false)
    }
  }
  return indexList
}

// extract valence, group & name for all items
var prefArray = this.options.datastore.extract("valence", "Rating"); 
var prefArrayN = prefArray.map(Number);
var nameArray = this.options.datastore.extract("img", "Rating");
var groupArray = this.options.datastore.extract("group", "Rating");

// slip into healthy vs. unhealthy
var idx = getValueIndex('healthy', groupArray)

prefArrayHealthy = prefArrayN.filter((el, index) => groupArray[index] == 'healthy')
prefArrayUnhealthy = prefArrayN.filter((el, index) => groupArray[index] == 'unhealthy')
prefNameHealthy = nameArray.filter((el, index) => groupArray[index] == 'healthy')
prefNameUnhealthy = nameArray.filter((el, index) => groupArray[index] == 'unhealthy')


// get index of max and use it to get name
maxIdxHealthy = [prefArrayHealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];
maxIdxUnhealthy = [prefArrayUnhealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];

this.parameters.prefHealty = prefNameHealthy.filter(function(el, index) {
          return maxIdxHealthy.indexOf(index) > -1;
          });
this.parameters.prefUnhealthy = prefNameUnhealthy.filter(function(el, index) {
          return maxIdxUnhealthy.indexOf(index) > -1;
          });

this.parameters.ImgA = this.parameters.prefUnhealthy
this.parameters.ImgB = this.parameters.prefHealty 

Image_A = this.parameters.ImgA
Image_B = this.parameters.ImgB

}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_2",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB13.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 2,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Sequence",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "sublock_0",
                          "content": [
                            {
                              "type": "lab.html.Frame",
                              "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                              "contextSelector": "[data-labjs-section=\"frame\"]",
                              "files": {},
                              "responses": {
                                "": ""
                              },
                              "parameters": {},
                              "messageHandlers": {},
                              "title": "choice_frame",
                              "content": {
                                "type": "lab.flow.Loop",
                                "templateParameters": [
                                  {
                                    "RefA": 0,
                                    "RefB": "6",
                                    "VarA": "0",
                                    "VarB": "0",
                                    "Ref_PB": "PB18.png",
                                    "Var_PB": "PB00.png",
                                    "sublock": 0,
                                    "block": "1"
                                  }
                                ],
                                "sample": {
                                  "mode": "sequential",
                                  "n": ""
                                },
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {
                                  "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                },
                                "title": "choice_loop",
                                "tardy": true,
                                "shuffleGroups": [],
                                "template": {
                                  "type": "lab.flow.Sequence",
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
} else if(this.parameters.VarA == 0){
    this.parameters.VarA1 = this.parameters.Blank;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                  },
                                  "title": "choice_sequence",
                                  "tardy": true,
                                  "content": [
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 40.22,
                                          "height": 54.24,
                                          "stroke": "#ffffff",
                                          "strokeWidth": 1,
                                          "fill": "#aaaaaa",
                                          "text": "+",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "48",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "fixCross",
                                      "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "timeout",
                                      "timeout": "500",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": 450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 70,
                                          "height": 400,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-250",
                                          "top": 275,
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyLeft.png\"] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "250",
                                          "top": "275",
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyRight.png\"] }"
                                        }
                                      ],
                                      "files": {
                                        "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                        "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                      },
                                      "parameters": {},
                                      "responses": {
                                        "keydown(ArrowLeft)": "left",
                                        "keydown(ArrowRight)": "right"
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "choice",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textL}",
                                          "text": "You chose Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textR}",
                                          "text": "You chose Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f";
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "square",
                                      "timeout": "1000",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 311.3,
                                          "height": 36.16,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.lateRespFeed}",
                                          "text": "Please respond faster",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": 32,
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "ITI_late",
                                      "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                      "tardy": true,
                                      "skip": "${this.parameters.skip}"
                                    }
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_3",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB03.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB05.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB09.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB11.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 3,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_4",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB02.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB06.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB08.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 4,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "keydown(ArrowRight)": "continue"
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Break1",
                          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Break1_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EGood job!\u003C\u002Fp\u003E\n    \u003Cp\u003EYou completed 1 of 2 blocks.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n   \u003Csection class=\"w-l\" style=\"text-align: center;\"\u003E\n    \u003Cform id=\"Break1_form\"\u003E\n      \u003Clabel for=\"break1\"\u003EHow do you feel now? Please insert a short text.\u003C\u002Flabel\u003E\n      \u003Cinput type=\"break1\" name=\"break1\" id=\"break1\"\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n    \u003Csection\u003E\n    \u003Cp\u003EFeel free to take a short break now if you need to! It is important to us that you remain focused throughout the whole task.\u003C\u002Fp\u003E\n    \u003Cp\u003EYou can then click “Continue” to resume the experiment.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"Break1_form\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "parameters": {
                            "message": "Transferring data",
                            "subtitle": "Please wait a second…"
                          },
                          "responses": {
                            "": ""
                          },
                          "messageHandlers": {
                            "run": function anonymous() {
const transmitPlugins = this.parents[0].plugins.plugins
  .filter(p => p instanceof lab.plugins.Transmit)

if (transmitPlugins.length > 0) {
  // If a transmitPlugin is available,
  // pull out its options and transfer the data
  const ds = this.options.datastore
  const tp = transmitPlugins[0]
  ds.transmit(
    tp.url,
    { ...tp.metadata, payload: 'full' },
    { headers: tp.headers, encoding: tp.encoding },
  ).then(
    () => this.end('transmission successful')
  ).catch(
    () => this.end('transmission failed')
  )
} else if ('jatos' in window) {
  // If JATOS is available, send data there
  jatos.submitResultData(
    this.options.datastore.exportJson(),
    () => this.end('transmission successful'),
    () => this.end('transmission failed')
  )
} else {
  this.end('no compatible backend')
}
}
                          },
                          "title": "data_transmission",
                          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n    \u003Cimg src=\"lib\u002Floading.svg\"\u003E\n    \u003Cp\u003E\n      \u003Cspan class=\"font-weight-bold\"\u003E\n        ${ this.parameters.message }\n      \u003C\u002Fspan\u003E\u003Cbr\u003E\n      \u003Cspan class=\"text-muted\"\u003E\n        ${ this.parameters.subtitle }\n      \u003C\u002Fspan\u003E\n    \u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                          "notes": "This template transmits the study data to a compatible server-side backend. Currently, it supports the PHP, Open Lab and JATOS backends.\n\nIt will wait until the data is transferred, showing a waiting screen with the text defined below, and continue with the remainder of the study after the transmission is complete. Please note that this screen will be skipped if no compatible backend is available."
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 416.56,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "The task will now resume.",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "ResumeTask",
                          "timeout": "2000"
                        }
                      ]
                    },
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "block_2",
                      "content": [
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_1",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB15.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB16.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB17.png",
                                      "sublock": 1,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
debugger

function getValueIndex(value, array){
	let indexList = []
	for (i=0; i<array.length; i++){
  	if(array[i] === value){
    indexList.push(true)
    }else{
    indexList.push(false)
    }
  }
  return indexList
}

// extract valence, group & name for all items
var prefArray = this.options.datastore.extract("valence", "Rating"); 
var prefArrayN = prefArray.map(Number);
var nameArray = this.options.datastore.extract("img", "Rating");
var groupArray = this.options.datastore.extract("group", "Rating");

// slip into healthy vs. unhealthy
var idx = getValueIndex('healthy', groupArray)

prefArrayHealthy = prefArrayN.filter((el, index) => groupArray[index] == 'healthy')
prefArrayUnhealthy = prefArrayN.filter((el, index) => groupArray[index] == 'unhealthy')
prefNameHealthy = nameArray.filter((el, index) => groupArray[index] == 'healthy')
prefNameUnhealthy = nameArray.filter((el, index) => groupArray[index] == 'unhealthy')


// get index of max and use it to get name
maxIdxHealthy = [prefArrayHealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];
maxIdxUnhealthy = [prefArrayUnhealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];

this.parameters.prefHealty = prefNameHealthy.filter(function(el, index) {
          return maxIdxHealthy.indexOf(index) > -1;
          });
this.parameters.prefUnhealthy = prefNameUnhealthy.filter(function(el, index) {
          return maxIdxUnhealthy.indexOf(index) > -1;
          });

this.parameters.ImgA = this.parameters.prefUnhealthy
this.parameters.ImgB = this.parameters.prefHealty 

Image_A = this.parameters.ImgA
Image_B = this.parameters.ImgB

}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_2",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB13.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 2,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Sequence",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "sublock_0",
                          "content": [
                            {
                              "type": "lab.html.Frame",
                              "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                              "contextSelector": "[data-labjs-section=\"frame\"]",
                              "files": {},
                              "responses": {
                                "": ""
                              },
                              "parameters": {},
                              "messageHandlers": {},
                              "title": "choice_frame",
                              "content": {
                                "type": "lab.flow.Loop",
                                "templateParameters": [
                                  {
                                    "RefA": 0,
                                    "RefB": "6",
                                    "VarA": "0",
                                    "VarB": "0",
                                    "Ref_PB": "PB18.png",
                                    "Var_PB": "PB00.png",
                                    "sublock": 0,
                                    "block": "1"
                                  }
                                ],
                                "sample": {
                                  "mode": "sequential",
                                  "n": ""
                                },
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {
                                  "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                },
                                "title": "choice_loop",
                                "tardy": true,
                                "shuffleGroups": [],
                                "template": {
                                  "type": "lab.flow.Sequence",
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
} else if(this.parameters.VarA == 0){
    this.parameters.VarA1 = this.parameters.Blank;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                  },
                                  "title": "choice_sequence",
                                  "tardy": true,
                                  "content": [
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 40.22,
                                          "height": 54.24,
                                          "stroke": "#ffffff",
                                          "strokeWidth": 1,
                                          "fill": "#aaaaaa",
                                          "text": "+",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "48",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "fixCross",
                                      "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "timeout",
                                      "timeout": "500",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": 450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 70,
                                          "height": 400,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-250",
                                          "top": 275,
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyLeft.png\"] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "250",
                                          "top": "275",
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyRight.png\"] }"
                                        }
                                      ],
                                      "files": {
                                        "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                        "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                      },
                                      "parameters": {},
                                      "responses": {
                                        "keydown(ArrowLeft)": "left",
                                        "keydown(ArrowRight)": "right"
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "choice",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textL}",
                                          "text": "You chose Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textR}",
                                          "text": "You chose Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f";
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "square",
                                      "timeout": "1000",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 311.3,
                                          "height": 36.16,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.lateRespFeed}",
                                          "text": "Please respond faster",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": 32,
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "ITI_late",
                                      "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                      "tardy": true,
                                      "skip": "${this.parameters.skip}"
                                    }
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_3",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB03.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB05.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB09.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB11.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 3,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_4",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB02.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB06.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB08.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 4,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "keypress(Space)": "continue"
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "EndTask",
                          "content": "\u003Cmain style=\"font-size: 24px;\" class=\"content-horizontal-center content-vertical-center\"\u003E \n  Great! You finished the main task! \u003Cbr\u003E\n  We will now ask you a few questions.\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {
                "before:prepare": function anonymous() {


this.parameters.skip = this.state.snack == 0 //sweet = 0


}
              },
              "title": "SequenceSalty",
              "tardy": true,
              "skip": "${this.parameters.skip}",
              "content": [
                {
                  "type": "lab.html.Screen",
                  "files": {},
                  "parameters": {},
                  "responses": {
                    "keypress(Space)": "continue"
                  },
                  "messageHandlers": {},
                  "title": "ratings_instructions",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E \n  \u003Csection class=\"w-l text-justify\" style=\"font-size: 1.2rem; margin: auto\"\u003E\n    \u003Cp\u003EDuring the next part of the experiment, we will ask you to rate the various images that were presented during the game.\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease rate the images according to the following scale:\u003C\u002Fp\u003E\n\n    \u003Cul style=\"font-size: 1rem; list-style: none; text-align: center; padding: 30px\"\u003E\n      \u003Cli\u003ETo which extent you like the displayed food item?\u003Cbr\u003E\n      \u003Cspan style=\"color: #a9a9a9;\"\u003E(0 = Extremely unpleasant, 100 = Extremely pleasant)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cbr\u003E\n      \u003C!-- \u003Cli\u003ETo what extent is this image arousing?\u003Cbr\u003E\n      \u003Cspan style=\"color: #a9a9a9;\"\u003E(0 = Not at all arousing, 100 = Extremely arousing)\u003C\u002Fspan\u003E\u003C\u002Fli\u003E\u003Cbr\u003E--\u003E\n      \u003C\u002Ful\u003E\n\n      \u003Cp\u003EPlease use the mouse to move the cursor on the scale and click on the button \u003Ckbd style=\"color: black\"\u003EContinue\u003C\u002Fkbd\u003E to validate your response.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E",
                  "tardy": true
                },
                {
                  "type": "lab.flow.Loop",
                  "templateParameters": [
                    {
                      "img": "bretzel.png",
                      "name": "bretzel",
                      "group": "unhealthy"
                    },
                    {
                      "img": "chips.png",
                      "name": "potato chip",
                      "group": "unhealthy"
                    },
                    {
                      "img": "dried_meat.png",
                      "name": "dried meat",
                      "group": "unhealthy"
                    },
                    {
                      "img": "frie.png",
                      "name": "frie",
                      "group": "unhealthy"
                    },
                    {
                      "img": "ham.png",
                      "name": "ham",
                      "group": "unhealthy"
                    },
                    {
                      "img": "nacho.png",
                      "name": "nacho",
                      "group": "unhealthy"
                    },
                    {
                      "img": "peanut_cracker.png",
                      "name": "peanut chip",
                      "group": "unhealthy"
                    },
                    {
                      "img": "ritz.png",
                      "name": "cracker",
                      "group": "unhealthy"
                    },
                    {
                      "img": "sausage.png",
                      "name": "salami",
                      "group": "unhealthy"
                    },
                    {
                      "img": "carrot.png",
                      "name": "carrot",
                      "group": "healthy"
                    },
                    {
                      "img": "cashew.png",
                      "name": "cashew",
                      "group": "healthy"
                    },
                    {
                      "img": "celery.png",
                      "name": "celery",
                      "group": "healthy"
                    },
                    {
                      "img": "cucumber.png",
                      "name": "cucumber",
                      "group": "healthy"
                    },
                    {
                      "img": "edamame.png",
                      "name": "edamame",
                      "group": "healthy"
                    },
                    {
                      "img": "pickle.png",
                      "name": "pickle",
                      "group": "healthy"
                    },
                    {
                      "img": "radish.png",
                      "name": "radish",
                      "group": "healthy"
                    },
                    {
                      "img": "tomato.png",
                      "name": "cherry tomato",
                      "group": "healthy"
                    },
                    {
                      "img": "walnut.png",
                      "name": "walnut",
                      "group": "healthy"
                    }
                  ],
                  "sample": {
                    "mode": "draw-shuffle",
                    "n": ""
                  },
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "rating_loop",
                  "shuffleGroups": [],
                  "template": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {},
                    "title": "rating_sequence",
                    "content": [
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 28.03,
                            "height": 54.24,
                            "stroke": "#ffffff",
                            "strokeWidth": 1,
                            "fill": "#ffffff",
                            "text": "+",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": "48",
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "files": {},
                        "parameters": {},
                        "responses": {
                          "": ""
                        },
                        "messageHandlers": {},
                        "viewport": [
                          800,
                          600
                        ],
                        "title": "fixCross",
                        "timeout": "500"
                      },
                      {
                        "type": "lab.html.Form",
                        "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection style=\"width: 80%;\"\u003E\n    \u003C!-- question division --\u003E\n    \u003Cdiv style=\"font-family: sans-serif; font-size: 2rem\"\u003E\n      \u003Cp\u003E To what extent do you like this ${ this.parameters.name }? \u003C\u002Fp\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003C!-- image division --\u003E\n    \u003Cdiv class=\"content-vertical-center content-horizontal-center\" style=\"height: 400px\"\u003E\n      \u003Cimg src=\"${ this.files[this.parameters.img] }\" alt=\"stimulus\" style=\"width:6cm; height=6cm\"\u003E\n    \u003C\u002Fdiv\u003E\n    \u003C!-- form division --\u003E\n    \u003Cform id=\"form_VAS\"\u003E\n      \u003C!-- slider division --\u003E\n      \u003Cdiv class=\"slidecontainer\" style=\"height: 25px; padding: 0; font-family: sans-serif; font-size: 1.2rem\"\u003E\n        \u003Cinput name=\"valence\" id=\"valence\" type=\"range\" min=\"0\" max=\"100\" value=\"50\" class=\"slider\" style=\"width: 50%; height: 10px\"\u003E  \n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fform\u003E\n\n    \u003C!-- labels division --\u003E\n    \u003Cdiv class=\"labelL\" style=\"color: #a9a9a9; font-family: sans-serif; font-size: 1.2rem\"\u003E\n      0\u003Cbr\u003E Extremely unpleasant\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv class=\"labelR\" style=\"color: #a9a9a9; font-family: sans-serif; font-size: 1.2rem\"\u003E\n      100\u003Cbr\u003E Extremely pleasant\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"form_VAS\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
                        "scrollTop": true,
                        "files": {
                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                        },
                        "responses": {
                          "(ArrowRight)": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.img];
// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);


}
                        },
                        "title": "Rating"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Screen",
                  "files": {},
                  "parameters": {
                    "message": "Transferring data",
                    "subtitle": "Please wait a second…"
                  },
                  "responses": {
                    "": ""
                  },
                  "messageHandlers": {
                    "run": function anonymous() {
const transmitPlugins = this.parents[0].plugins.plugins
  .filter(p => p instanceof lab.plugins.Transmit)

if (transmitPlugins.length > 0) {
  // If a transmitPlugin is available,
  // pull out its options and transfer the data
  const ds = this.options.datastore
  const tp = transmitPlugins[0]
  ds.transmit(
    tp.url,
    { ...tp.metadata, payload: 'full' },
    { headers: tp.headers, encoding: tp.encoding },
  ).then(
    () => this.end('transmission successful')
  ).catch(
    () => this.end('transmission failed')
  )
} else if ('jatos' in window) {
  // If JATOS is available, send data there
  jatos.submitResultData(
    this.options.datastore.exportJson(),
    () => this.end('transmission successful'),
    () => this.end('transmission failed')
  )
} else {
  this.end('no compatible backend')
}
}
                  },
                  "title": "data_transmission",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n    \u003Cimg src=\"lib\u002Floading.svg\"\u003E\n    \u003Cp\u003E\n      \u003Cspan class=\"font-weight-bold\"\u003E\n        ${ this.parameters.message }\n      \u003C\u002Fspan\u003E\u003Cbr\u003E\n      \u003Cspan class=\"text-muted\"\u003E\n        ${ this.parameters.subtitle }\n      \u003C\u002Fspan\u003E\n    \u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                  "notes": "This template transmits the study data to a compatible server-side backend. Currently, it supports the PHP, Open Lab and JATOS backends.\n\nIt will wait until the data is transferred, showing a waiting screen with the text defined below, and continue with the remainder of the study after the transmission is complete. Please note that this screen will be skipped if no compatible backend is available."
                },
                {
                  "type": "lab.html.Screen",
                  "files": {
                    "choice.png": "embedded\u002F5f3af106895c6ec6ff457197419e9427bccd06bb0b383d3e8970dc20b772f210.png",
                    "selected.png": "embedded\u002F979ddd5b7b0146faaae64c990a05245f0e9d53bdaffd267c53d8515606a95981.png",
                    "choicehands.png": "embedded\u002F5eb1b7da466241425c3ebd62ea746962c5433c23af94811b7f1c7e39466b7a82.png",
                    "instru1.png": "embedded\u002Ff9c4e9dd9aa0d6060b92a9656de362814e68ef9ea24530e1de2c1ffdacd2414d.png",
                    "instru2.png": "embedded\u002F06f7ae21b05077da1a350ebe0faf6ca0f1bc6e884663a44c0488d6c2ba20cbd1.png",
                    "instru3.png": "embedded\u002F5a59a3465b8d19020db3c171758772e74c03d1dce10a764f5a9a88f74f44de8a.png",
                    "void.png": "embedded\u002F7140cc59f96eea6a0be5eaf89269f3520691756e5309434bdb7c6e7136c56ccb.png"
                  },
                  "parameters": {},
                  "responses": {
                    "": ""
                  },
                  "messageHandlers": {
                    "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["void.png", "choice.png", "selected.png", "choicehands.png"];
// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// INSTRUCTIONS
let done = false // is it the last screen?

const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible

    if(!target.nextElementSibling.nextElementSibling){ // if the end is reached
      setVisibility('#fwd', false) // hide the forward button
      setVisibility('#done', true) // show the end button
      done = true
    }
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#fwd', true) // make sure that 'forward' button is visible
    setVisibility('#done', false) // hide the 'done' button
    done = false

    if(!target.previousElementSibling.previousElementSibling){ // if the beginning is reached
      setVisibility('#bck', false) // hide the back button
    }
  } 
}

this.options.events['keydown(ArrowRight)'] = function(){
  moveForth("section[id^='inst_page']:not(.hidden)")
  moveForth("h2[id^='head']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='inst_page']:not(.hidden)")
  moveBack("h2[id^='head']:not(.hidden)")
}

this.options.events['keypress(Space)'] = function() {
    if(done)
      // End instructions
      this.end('done')
}
//
}
                  },
                  "title": "instructions",
                  "content": "\u003Cheader style=\"height: 60px; padding: 4px; margin: auto\"\u003E\r\n  \u003Ch2 id=\"head1\"\u003E \u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head2\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head3\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head4\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head5\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head6\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head7\" class=\"hidden\"\u003EInstructions\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head8\" class=\"hidden\"\u003EInstructions Checks\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head9\" class=\"hidden\"\u003EInstructions Checks\u003C\u002Fh2\u003E\r\n  \u003Ch2 id=\"head10\" class=\"hidden\"\u003EInstructions Checks\u003C\u002Fh2\u003E\r\n\u003C\u002Fheader\u003E\r\n\r\n\u003Cmain class=\"content-horizontal-center content-vertical-center\" style=\"font-size: 1.2rem\"\u003E\r\n  \u003C!-- welcome: page 0--\u003E\r\n  \u003Csection id=\"inst_page0\" class=\"w-l text-justify\"\u003E\r\n    \u003Cp\u003EIn the following task, we will offer you several snacks with different proportions of your favourite food items.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EPress the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E to view the task instructions.\u003C\u002Fp\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 1--\u003E\r\n  \u003Csection id=\"inst_page1\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EDuring this task, you will have access to two options and you will be required to \u003Cstrong\u003Echoose the snack that you prefer\u003C\u002Fstrong\u003E using the left \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E and right \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E arrow keys of your keyboard.\u003C\u002Fp\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 2--\u003E\r\n  \u003Csection id=\"inst_page2\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EHere is an example of choices you will be making.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIn this example, you will have a choice between 7 pieces of chocolate on the one hand (Option 1), and 3 pieces of chocolate together with 4 slices of kiwi on the other hand (Option 2).\u003C\u002Fp\u003E\r\n    \u003Cp\u003EThe full bars on the side of each option indicates the proportion of each food item inside the snack.\u003C\u002Fp\u003E\r\n        \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['instru1.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n    \u003C!-- instructions: page 3--\u003E\r\n  \u003Csection id=\"inst_page3\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EAfter a short delay, the left \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E and right \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E arrow keys will appear on the bottom part of the screen.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EThis will indicate that you can now make your decision and choose the snack that you prefer.\u003C\u002Fp\u003E\r\n        \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['instru2.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 4--\u003E\r\n  \u003Csection id=\"inst_page4\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EIn this example, if you prefer the right snack (Option 2), you would press the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E key on your keyboard after the right and left keys appeared on the screen.\u003C\u002Fp\u003E\r\n        \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['instru3.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 5--\u003E\r\n  \u003Csection id=\"inst_page5\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EA green box will appear around the option you chose to inform you that your choice has been recorded.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EFor instance, in this example, you chose Option 2 which contains 3 pieces of chocolate and 4 slices of kiwi.\u003C\u002Fp\u003E        \r\n    \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['selected.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n\r\n  \u003C!-- instructions: page 6--\u003E\r\n  \u003Csection id=\"inst_page6\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EPlease note that \u003Cstrong\u003Eevery choice is independent\u003C\u002Fstrong\u003E: imagine that you would receive only one of the choices you have made, as if you were playing a lottery game.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EMoreover, it is important that you make each decision \u003Cstrong\u003Eintuitively\u003C\u002Fstrong\u003E, without considering the other choices that you have made so far.\u003C\u002Fp\u003E\r\n    \u003Cp\u003E\u003Cstrong\u003ETherefore, please try to be as fast and accurate as possible in making your decision\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIf your response is too slow, a reminder will appear onscreen asking you to respond faster.\u003C\u002Fp\u003E\r\n\r\n  \u003C\u002Fsection\u003E\r\n  \u003C!-- instructions: page 7--\u003E\r\n   \u003Csection id=\"inst_page7\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003EAt certain times, one of the options will be empty, which will be represented by an empty box with an empty white bar.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIn this example, Option 1 is empty.\u003C\u002Fp\u003E        \r\n    \u003Cdiv class=\"content-horizontal-space-around\"\u003E\r\n      \u003Cimg src=\"${ this.files['void.png'] }\" style=\"width: 800px; height: 400px\"\u003E\u003C\u002Fimg\u003E\r\n    \u003C\u002Fdiv\u003E\r\n  \u003C\u002Fsection\u003E\r\n  \r\n  \u003C!-- instructions: page 8--\u003E\r\n  \u003Csection id=\"inst_page8\" class=\"w-l text-justify hidden\"\u003E\r\n    \u003Cp\u003ENext, you will try some practice questions. Once you press the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E you CANNOT come back to the instructions.\u003C\u002Fp\u003E\r\n    \u003Cp\u003EIf you do not answer correctly to the practice questions, you will not be able to continue.\u003C\u002Fp\u003E\r\n  \u003C\u002Fsection\u003E\r\n\u003C\u002Fmain\u003E\r\n\r\n\u003Cfooter\u003E\r\n  \u003Ctable class=\"table-plain\"\u003E\r\n    \u003Ctr\u003E\r\n      \u003Ctd id=\"bck\" style=\"visibility: hidden\"\u003E\r\n        \u003Cem\u003EPress the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen\u003C\u002Fem\u003E\r\n      \u003C\u002Ftd\u003E\r\n      \u003Ctd id=\"done\" style=\"visibility: hidden\"\u003E\r\n        \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\r\n      \u003C\u002Ftd\u003E\r\n      \u003Ctd id=\"fwd\"\u003E\r\n        \u003Cem\u003EPress the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E for the next screen\u003C\u002Fem\u003E\r\n      \u003C\u002Ftd\u003E\r\n    \u003C\u002Ftr\u003E\r\n  \u003C\u002Ftable\u003E\r\n\u003C\u002Ffooter\u003E",
                  "scrollTop": true
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {
                    "instructions05.png": "embedded\u002Fac6bc06fafc5d90b8eee70cc100c92df19e6741c5fef5f9531cadb87660a49ce.png",
                    "instructions06.png": "embedded\u002F10d84758b620ad53cf98b151b4f8c6cadb37855603bbe55687bffacbb7b4d6c9.png",
                    "instructions07.png": "embedded\u002F3221d44b1c803598aad75731ad6eb08da78ea62ca36e22983614b3152f6c8abc.png",
                    "instructions08.png": "embedded\u002F3abfb742b36acc2ed48cb5307186c1fe50078a8524587cf2958a517767228aa7.png",
                    "instructions09.png": "embedded\u002F03cfda1aebb7b979f1a1002cfedba2994818a0979359093ee616e30350accaa5.png"
                  },
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "practice_sequence",
                  "content": [
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "same.png": "embedded\u002F6a931f4858ac83b533ad5026b48e8f6dc1bda4042e9b68c167d2bf81b4be3a74.png"
                      },
                      "responses": {
                        "click #Q1_i3": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ1_imgArray = ["same.png"];
// preload media
this.options.media.images = pracQ1_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question1 = [
  {id: "Q1_i1", value: "false", opResp: "1"},
  {id: "Q1_i2", value: "false", opResp: "2"},
  {id: "Q1_i3", value: "correct", opResp: "3"},
  {id: "Q1_i4", value: "false", opResp: "4"}];

// randomize order
var prac_question1_order = this.random.shuffle(prac_question1);

// create parameters for response id, value, & option
this.parameters.pracQ1_IDa = prac_question1_order[0].id;
this.parameters.pracQ1_IDb = prac_question1_order[1].id;
this.parameters.pracQ1_IDc = prac_question1_order[2].id;
this.parameters.pracQ1_IDd = prac_question1_order[3].id;

this.parameters.pracQ1_valueA = prac_question1_order[0].value;
this.parameters.pracQ1_valueB = prac_question1_order[1].value;
this.parameters.pracQ1_valueC = prac_question1_order[2].value;
this.parameters.pracQ1_valueD = prac_question1_order[3].value;

this.parameters.pracQ1_optionA = prac_question1_order[0].opResp;
this.parameters.pracQ1_optionB = prac_question1_order[1].opResp;
this.parameters.pracQ1_optionC = prac_question1_order[2].opResp;
this.parameters.pracQ1_optionD = prac_question1_order[3].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q1_i1'] = function(){
  moveForth("section[id^='Q1_']:not(.hidden)")
}

this.options.events['click #Q1_i2'] = function(){
  moveForth("section[id^='Q1']:not(.hidden)")
}

this.options.events['click #Q1_i4'] = function(){
  moveForth("section[id^='Q1']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q1']:not(.hidden)")
}
}
                      },
                      "title": "Q1",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q1_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EAccording to the picture below, please indicate the \u003Cstrong\u003Enumber of kiwis in snack Option 1\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['same.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDa }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ1_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDb }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ1_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDc }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ1_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ1_IDd }\" name=\"pracQ1\" value=\"${ this.parameters.pracQ1_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ1_optionD }\u003C\u002Fbutton\u003E\u003Cbr\u003E    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q1_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q1_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E",
                      "correctResponse": "input_Q1==3"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q1_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q1_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "choice.png": "embedded\u002F5f3af106895c6ec6ff457197419e9427bccd06bb0b383d3e8970dc20b772f210.png"
                      },
                      "responses": {
                        "click #Q2_i1": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ2_imgArray = ["choice.png"];
// preload media
this.options.media.images = pracQ2_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question2 = [
  {id: "Q2_i1", value: "correct", opResp: "Option 1"},
  {id: "Q2_i2", value: "opt2", opResp: "Option 2"},
  {id: "Q2_i3", value: "same", opResp: "Same amount"}];

// randomize order
var prac_question2_order = this.random.shuffle(prac_question2);

// create parameters for response id, value, & option
this.parameters.pracQ2_IDa = prac_question2_order[0].id;
this.parameters.pracQ2_IDb = prac_question2_order[1].id;
this.parameters.pracQ2_IDc = prac_question2_order[2].id;

this.parameters.pracQ2_valueA = prac_question2_order[0].value;
this.parameters.pracQ2_valueB = prac_question2_order[1].value;
this.parameters.pracQ2_valueC = prac_question2_order[2].value;

this.parameters.pracQ2_optionA = prac_question2_order[0].opResp;
this.parameters.pracQ2_optionB = prac_question2_order[1].opResp;
this.parameters.pracQ2_optionC = prac_question2_order[2].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q2_i2'] = function(){
  moveForth("section[id^='Q2_']:not(.hidden)")
}

this.options.events['click #Q2_i3'] = function(){
  moveForth("section[id^='Q2']:not(.hidden)")
}


this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q2']:not(.hidden)")
}
}
                      },
                      "title": "Q2",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q2_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EAccording to the picture below, please indicate the snack option that contains \u003Cstrong\u003Emore pieces of chocolate\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['choice.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ2_IDa }\" name=\"pracQ2\" value=\"${ this.parameters.pracQ2_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ2_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ2_IDb }\" name=\"pracQ2\" value=\"${ this.parameters.pracQ2_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ2_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ2_IDc }\" name=\"pracQ2\" value=\"${ this.parameters.pracQ2_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ2_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q2_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q2_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q2_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q2_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "diff.png": "embedded\u002Fe82cb29d1b3677078e328580dd3f041c4fda2a5b56184fc5e63f193004c46918.png"
                      },
                      "responses": {
                        "click #Q4_i1": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ4_imgArray = ["diff.png"];
// preload media
this.options.media.images = pracQ4_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question4 = [
  {id: "Q4_i1", value: "correct", opResp: "Press the arrow key that corresponds with the snack option I prefer"},
  {id: "Q4_i2", value: "indicate", opResp: "Indicate the number of food items in each snack option"},
  {id: "Q4_i3", value: "morefood", opResp: "Press the arrow key that corresponds with the snack option with more food items"},
  {id: "Q4_i4", value: "pressspace", opResp: "Press the space key"}];

// randomize order
var prac_question4_order = this.random.shuffle(prac_question4);

// create parameters for response id, value, & option
this.parameters.pracQ4_IDa = prac_question4_order[0].id;
this.parameters.pracQ4_IDb = prac_question4_order[1].id;
this.parameters.pracQ4_IDc = prac_question4_order[2].id;
this.parameters.pracQ4_IDd = prac_question4_order[3].id;

this.parameters.pracQ4_valueA = prac_question4_order[0].value;
this.parameters.pracQ4_valueB = prac_question4_order[1].value;
this.parameters.pracQ4_valueC = prac_question4_order[2].value
this.parameters.pracQ4_valueD = prac_question4_order[3].value;

this.parameters.pracQ4_optionA = prac_question4_order[0].opResp;
this.parameters.pracQ4_optionB = prac_question4_order[1].opResp;
this.parameters.pracQ4_optionC = prac_question4_order[2].opResp;
this.parameters.pracQ4_optionD = prac_question4_order[3].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)
  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q4_i2'] = function(){
  moveForth("section[id^='Q4_']:not(.hidden)")
}

this.options.events['click #Q4_i3'] = function(){
  moveForth("section[id^='Q4']:not(.hidden)")
}

this.options.events['click #Q4_i4'] = function(){
  moveForth("section[id^='Q4']:not(.hidden)")
}


this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q4']:not(.hidden)")
}
}
                      },
                      "title": "Q4",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q4_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EAccording to the picture below, please indicate what you are expected to do:\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['diff.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDa }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ4_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDb }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ4_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDc }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ4_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ4_IDd }\" name=\"pracQ4\" value=\"${ this.parameters.pracQ4_valueD }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ4_optionD }\u003C\u002Fbutton\u003E\u003Cbr\u003E    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q4_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q4_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q4_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q4_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {
                        "selectedtest.png": "embedded\u002F5aa326083f21ce67e7593eea884aed0df67c1d7c2aaeaee2de6f30254533b1ac.png"
                      },
                      "responses": {
                        "click #Q5_i1": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
pracQ5_imgArray = ["selectedtest.png"];
// preload media
this.options.media.images = pracQ5_imgArray.map(image => this.files[image]);

// RANDOMIZE RESPONSE OPTIONS
// create variable with response options
var prac_question5 = [
  {id: "Q5_i1", value: "correct", opResp: "Snack Option 2 has been chosen"},
  {id: "Q5_i2", value: "morechoc2", opResp: "There are more pieces of chocolate in snack Option 2"},
  {id: "Q5_i3", value: "morekiwi1", opResp: "There are more slices of kiwi in snack Option 1"},
  {id: "Q5_i4", value: "chose1", opResp: "Snack Option 1 has been chosen"}];

// randomize order
var prac_question5_order = this.random.shuffle(prac_question5);

// create parameters for response id, value, & option
this.parameters.pracQ5_IDa = prac_question5_order[0].id;
this.parameters.pracQ5_IDb = prac_question5_order[1].id;
this.parameters.pracQ5_IDc = prac_question5_order[2].id;
this.parameters.pracQ5_IDd = prac_question5_order[3].id;

this.parameters.pracQ5_valueA = prac_question5_order[0].value;
this.parameters.pracQ5_valueB = prac_question5_order[1].value;
this.parameters.pracQ5_valueC = prac_question5_order[2].value
this.parameters.pracQ5_valueD = prac_question5_order[3].value;

this.parameters.pracQ5_optionA = prac_question5_order[0].opResp;
this.parameters.pracQ5_optionB = prac_question5_order[1].opResp;
this.parameters.pracQ5_optionC = prac_question5_order[2].opResp;
this.parameters.pracQ5_optionD = prac_question5_order[3].opResp;

// SET SCREEN SECTIONS VISIBILITY
const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)
  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#bck', false) // make sure that 'forward' button is visible
  } 
}

this.options.events['click #Q5_i2'] = function(){
  moveForth("section[id^='Q5_']:not(.hidden)")
}

this.options.events['click #Q5_i3'] = function(){
  moveForth("section[id^='Q5']:not(.hidden)")
}

this.options.events['click #Q5_i4'] = function(){
  moveForth("section[id^='Q5']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='Q5']:not(.hidden)")
}
}
                      },
                      "title": "Q5",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q5_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EWhat does this screen mean?\u003C\u002Fp\u003E\n    \u003Cdiv\u003E\n      \u003Cimg src=\"${ this.files['selectedtest.png'] }\" style=\"width: 100%;\"\u003E\u003C\u002Fimg\u003E\n    \u003C\u002Fdiv\u003E\n    \u003Cdiv\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDa }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueA }\" style=\"font-size: 1.2rem; width: 100%\"\u003E${ this.parameters.pracQ5_optionA }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDb }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueB }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ5_optionB }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDc }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueC }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ5_optionC }\u003C\u002Fbutton\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"${ this.parameters.pracQ5_IDd }\" name=\"pracQ5\" value=\"${ this.parameters.pracQ5_valueD }\" style=\"font-size: 1.2rem;width: 100%\"\u003E${ this.parameters.pracQ5_optionD }\u003C\u002Fbutton\u003E\u003Cbr\u003E    \u003C\u002Fdiv\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"Q5_incorrect\" class=\"w-l hidden\" style=\"color: red; font-size: 2rem\"\u003E\n    \u003Cp\u003E\u003Cstrong\u003EIncorrect!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease try again.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C!--\n  \u003Csection id=\"Q5_3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EParagraph #3\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"text-align: left; visibility: hidden\"\u003E\n        press the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "keypress": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "Q5_correct",
                      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Q5_correct\" class=\"w-l\" style=\"color: green; font-size: 2rem\"\u003E\n    \u003Cp\u003ECorrect!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                    }
                  ]
                },
                {
                  "type": "lab.html.Screen",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "before:prepare": function anonymous() {
let done = false // is it the last screen?

const setVisibility = (selector, isVisible) => {
  // Extract the content from the current element
  const target = this.options.el.querySelector(selector)

  target.style.visibility = isVisible ? 'visible' : 'hidden'
}

const moveForth = (selector) => {
  const target = this.options.el.querySelector(selector)
  if(target.nextElementSibling){
    target.classList.add("hidden"); // hide current screen
    target.nextElementSibling.classList.remove("hidden"); //show next screen
    
    setVisibility('#bck', true) // make sure that 'back' button is visible

    if(!target.nextElementSibling.nextElementSibling){ // if the end is reached
      setVisibility('#fwd', false) // hide the forward button
      setVisibility('#done', true) // show the end button
      done = true
    }
  }
}

const moveBack = (selector) => {
  target = this.options.el.querySelector(selector);
  if(target.previousElementSibling){ //.innerHTML !== undefined
    target.classList.add("hidden");  // hide current screen
    target.previousElementSibling.classList.remove("hidden"); // show previous screen

    setVisibility('#fwd', true) // make sure that 'forward' button is visible
    setVisibility('#done', false) // hide the 'done' button
    done = false

    if(!target.previousElementSibling.previousElementSibling){ // if the beginning is reached
      setVisibility('#bck', false) // hide the back button
    }
  } 
}

this.options.events['keydown(ArrowRight)'] = function(){
  moveForth("section[id^='inst2_page']:not(.hidden)")
  moveForth("h2[id^='head']:not(.hidden)")
}

this.options.events['keydown(ArrowLeft)'] = function(){
  moveBack("section[id^='inst2_page']:not(.hidden)")
  moveBack("h2[id^='head']:not(.hidden)")
}

this.options.events['keypress(Space)'] = function() {
    if(done)
      // End instructions
      this.end('done')
}
}
                  },
                  "title": "final_instru",
                  "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\" style=\"font-size: 1.2rem\"\u003E\n  \u003Csection id=\"inst2_page1\" class=\"w-l text-justify\"\u003E\n    \u003Cp\u003EGood job! You are ready to start the task.\u003C\u002Fp\u003E\n    \u003Cp\u003EPlease remember to carefully follow the instructions and try your best. We really appreciate your hard work!\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"inst2_page2\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EPlease complete the task and the rest of the experiment in a single run and be careful to advance to the completion screen at the end of the experiment so that your data will be saved.\u003C\u002Fp\u003E\n    \u003Cp\u003EIf the experiment does not work adequately, we will not be able to validate your participation.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n  \u003Csection id=\"inst2_page3\" class=\"w-l text-justify hidden\"\u003E\n    \u003Cp\u003EWe appreciate you taking the time to complete the task to the best of your ability.\u003C\u002Fp\u003E\n    \u003Cp\u003EThe task will take about 15 minutes. It will be followed by several questions after which you will be redirected to the questionnaires we will ask you to complete. The questionnaires will take about 15 minutes.\u003C\u002Fp\u003E\n    \u003Cp\u003EWhen you are ready to start the task, you can press on the \u003Ckbd style=\"color: black\"\u003Espacebar\u003C\u002Fkbd\u003E to start the experiment.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Ctable class=\"table-plain\"\u003E\n    \u003Ctr\u003E\n      \u003Ctd id=\"bck\" style=\"visibility: hidden\"\u003E\n        \u003Cem\u003EPress the left arrow \u003Ckbd style=\"color: black;\"\u003E&larr;\u003C\u002Fkbd\u003E for the previous screen\u003C\u002Fem\u003E\n      \u003C\u002Ftd\u003E\n      \u003Ctd id=\"done\" style=\"visibility: hidden\"\u003E\n        \u003Cem\u003EPress the \u003Ckbd style=\"color: black;\"\u003Espacebar\u003C\u002Fkbd\u003E to start the experiment\u003C\u002Fem\u003E\n      \u003C\u002Ftd\u003E\n      \u003Ctd id=\"fwd\"\u003E\n        \u003Cem\u003EPress the right arrow \u003Ckbd style=\"color: black;\"\u003E&rarr;\u003C\u002Fkbd\u003E for the next screen\u003C\u002Fem\u003E \n      \u003C\u002Ftd\u003E\n    \u003C\u002Ftr\u003E\n  \u003C\u002Ftable\u003E\n\u003C\u002Ffooter\u003E"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "before:prepare": function anonymous() {
// initialize trial counter
this.state.trial_count = 0;
this.state.trial_countO = 0;
}
                  },
                  "title": "Block_sequence",
                  "content": [
                    {
                      "type": "lab.canvas.Screen",
                      "content": [],
                      "viewport": [
                        800,
                        600
                      ],
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "blank_screen",
                      "timeout": "2000"
                    },
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "block_1",
                      "content": [
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_1",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB15.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB16.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB17.png",
                                      "sublock": 1,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
debugger

function getValueIndex(value, array){
	let indexList = []
	for (i=0; i<array.length; i++){
  	if(array[i] === value){
    indexList.push(true)
    }else{
    indexList.push(false)
    }
  }
  return indexList
}

// extract valence, group & name for all items
var prefArray = this.options.datastore.extract("valence", "Rating"); 
var prefArrayN = prefArray.map(Number);
var nameArray = this.options.datastore.extract("img", "Rating");
var groupArray = this.options.datastore.extract("group", "Rating");

// slip into healthy vs. unhealthy
var idx = getValueIndex('healthy', groupArray)

prefArrayHealthy = prefArrayN.filter((el, index) => groupArray[index] == 'healthy')
prefArrayUnhealthy = prefArrayN.filter((el, index) => groupArray[index] == 'unhealthy')
prefNameHealthy = nameArray.filter((el, index) => groupArray[index] == 'healthy')
prefNameUnhealthy = nameArray.filter((el, index) => groupArray[index] == 'unhealthy')


// get index of max and use it to get name
maxIdxHealthy = [prefArrayHealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];
maxIdxUnhealthy = [prefArrayUnhealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];

this.parameters.prefHealty = prefNameHealthy.filter(function(el, index) {
          return maxIdxHealthy.indexOf(index) > -1;
          });
this.parameters.prefUnhealthy = prefNameUnhealthy.filter(function(el, index) {
          return maxIdxUnhealthy.indexOf(index) > -1;
          });

this.parameters.ImgA = this.parameters.prefUnhealthy
this.parameters.ImgB = this.parameters.prefHealty 

Image_A = this.parameters.ImgA
Image_B = this.parameters.ImgB

}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_2",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB13.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 2,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Sequence",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "sublock_0",
                          "content": [
                            {
                              "type": "lab.html.Frame",
                              "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                              "contextSelector": "[data-labjs-section=\"frame\"]",
                              "files": {},
                              "responses": {
                                "": ""
                              },
                              "parameters": {},
                              "messageHandlers": {},
                              "title": "choice_frame",
                              "content": {
                                "type": "lab.flow.Loop",
                                "templateParameters": [
                                  {
                                    "RefA": 0,
                                    "RefB": "6",
                                    "VarA": "0",
                                    "VarB": "0",
                                    "Ref_PB": "PB18.png",
                                    "Var_PB": "PB00.png",
                                    "sublock": 0,
                                    "block": "1"
                                  }
                                ],
                                "sample": {
                                  "mode": "sequential",
                                  "n": ""
                                },
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {
                                  "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                },
                                "title": "choice_loop",
                                "tardy": true,
                                "shuffleGroups": [],
                                "template": {
                                  "type": "lab.flow.Sequence",
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
} else if(this.parameters.VarA == 0){
    this.parameters.VarA1 = this.parameters.Blank;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                  },
                                  "title": "choice_sequence",
                                  "tardy": true,
                                  "content": [
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 40.22,
                                          "height": 54.24,
                                          "stroke": "#ffffff",
                                          "strokeWidth": 1,
                                          "fill": "#aaaaaa",
                                          "text": "+",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "48",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "fixCross",
                                      "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                        "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                        "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                        "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                        "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                        "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                        "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                        "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                        "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                        "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                        "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                        "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                        "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                        "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                        "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                        "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                        "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                        "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "timeout",
                                      "timeout": "500",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": 450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 70,
                                          "height": 400,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-250",
                                          "top": 275,
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyLeft.png\"] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "250",
                                          "top": "275",
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyRight.png\"] }"
                                        }
                                      ],
                                      "files": {
                                        "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                        "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                        "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                        "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                        "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                        "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                        "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                        "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                        "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                        "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                        "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                        "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                        "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                        "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                        "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                        "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                        "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                        "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                        "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                      },
                                      "parameters": {},
                                      "responses": {
                                        "keydown(ArrowLeft)": "left",
                                        "keydown(ArrowRight)": "right"
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "choice",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textL}",
                                          "text": "You chose Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textR}",
                                          "text": "You chose Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                        "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                        "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                        "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                        "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                        "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                        "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                        "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                        "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                        "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                        "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                        "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                        "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                        "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                        "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                        "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                        "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                        "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f";
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "square",
                                      "timeout": "1000",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 311.3,
                                          "height": 36.16,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.lateRespFeed}",
                                          "text": "Please respond faster",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": 32,
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "ITI_late",
                                      "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                      "tardy": true,
                                      "skip": "${this.parameters.skip}"
                                    }
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_3",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB03.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB05.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB09.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB11.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 3,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_4",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB02.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB06.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB08.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 4,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "keydown(ArrowRight)": "continue"
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Break1",
                          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection id=\"Break1_question\" class=\"w-l\" style=\"font-size: 1.2rem\"\u003E\n    \u003Cp\u003EGood job!\u003C\u002Fp\u003E\n    \u003Cp\u003EYou completed 1 of 2 blocks.\u003C\u002Fp\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n   \u003Csection class=\"w-l\" style=\"text-align: center;\"\u003E\n    \u003Cform id=\"Break1_form\"\u003E\n      \u003Clabel for=\"break1\"\u003EHow do you feel now? Please insert a short text.\u003C\u002Flabel\u003E\n      \u003Cinput type=\"break1\" name=\"break1\" id=\"break1\"\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n    \u003Csection\u003E\n    \u003Cp\u003EFeel free to take a short break now if you need to! It is important to us that you remain focused throughout the whole task.\u003C\u002Fp\u003E\n    \u003Cp\u003EYou can then click “Continue” to resume the experiment.\u003C\u002Fp\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"Break1_form\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "parameters": {
                            "message": "Transferring data",
                            "subtitle": "Please wait a second…"
                          },
                          "responses": {
                            "": ""
                          },
                          "messageHandlers": {
                            "run": function anonymous() {
const transmitPlugins = this.parents[0].plugins.plugins
  .filter(p => p instanceof lab.plugins.Transmit)

if (transmitPlugins.length > 0) {
  // If a transmitPlugin is available,
  // pull out its options and transfer the data
  const ds = this.options.datastore
  const tp = transmitPlugins[0]
  ds.transmit(
    tp.url,
    { ...tp.metadata, payload: 'full' },
    { headers: tp.headers, encoding: tp.encoding },
  ).then(
    () => this.end('transmission successful')
  ).catch(
    () => this.end('transmission failed')
  )
} else if ('jatos' in window) {
  // If JATOS is available, send data there
  jatos.submitResultData(
    this.options.datastore.exportJson(),
    () => this.end('transmission successful'),
    () => this.end('transmission failed')
  )
} else {
  this.end('no compatible backend')
}
}
                          },
                          "title": "data_transmission",
                          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n    \u003Cimg src=\"lib\u002Floading.svg\"\u003E\n    \u003Cp\u003E\n      \u003Cspan class=\"font-weight-bold\"\u003E\n        ${ this.parameters.message }\n      \u003C\u002Fspan\u003E\u003Cbr\u003E\n      \u003Cspan class=\"text-muted\"\u003E\n        ${ this.parameters.subtitle }\n      \u003C\u002Fspan\u003E\n    \u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                          "notes": "This template transmits the study data to a compatible server-side backend. Currently, it supports the PHP, Open Lab and JATOS backends.\n\nIt will wait until the data is transferred, showing a waiting screen with the text defined below, and continue with the remainder of the study after the transmission is complete. Please note that this screen will be skipped if no compatible backend is available."
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 416.56,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "The task will now resume.",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "ResumeTask",
                          "timeout": "2000"
                        }
                      ]
                    },
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {},
                      "title": "block_2",
                      "content": [
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_1",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB15.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB16.png",
                                      "sublock": 1,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "1",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB17.png",
                                      "sublock": 1,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
debugger

function getValueIndex(value, array){
	let indexList = []
	for (i=0; i<array.length; i++){
  	if(array[i] === value){
    indexList.push(true)
    }else{
    indexList.push(false)
    }
  }
  return indexList
}

// extract valence, group & name for all items
var prefArray = this.options.datastore.extract("valence", "Rating"); 
var prefArrayN = prefArray.map(Number);
var nameArray = this.options.datastore.extract("img", "Rating");
var groupArray = this.options.datastore.extract("group", "Rating");

// slip into healthy vs. unhealthy
var idx = getValueIndex('healthy', groupArray)

prefArrayHealthy = prefArrayN.filter((el, index) => groupArray[index] == 'healthy')
prefArrayUnhealthy = prefArrayN.filter((el, index) => groupArray[index] == 'unhealthy')
prefNameHealthy = nameArray.filter((el, index) => groupArray[index] == 'healthy')
prefNameUnhealthy = nameArray.filter((el, index) => groupArray[index] == 'unhealthy')


// get index of max and use it to get name
maxIdxHealthy = [prefArrayHealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];
maxIdxUnhealthy = [prefArrayUnhealthy.reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0)];

this.parameters.prefHealty = prefNameHealthy.filter(function(el, index) {
          return maxIdxHealthy.indexOf(index) > -1;
          });
this.parameters.prefUnhealthy = prefNameUnhealthy.filter(function(el, index) {
          return maxIdxUnhealthy.indexOf(index) > -1;
          });

this.parameters.ImgA = this.parameters.prefUnhealthy
this.parameters.ImgB = this.parameters.prefHealty 

Image_A = this.parameters.ImgA
Image_B = this.parameters.ImgB

}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_2",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB13.png",
                                      "sublock": 2,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "2",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB14.png",
                                      "sublock": 2,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Sequence",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "sublock_0",
                          "content": [
                            {
                              "type": "lab.html.Frame",
                              "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                              "contextSelector": "[data-labjs-section=\"frame\"]",
                              "files": {},
                              "responses": {
                                "": ""
                              },
                              "parameters": {},
                              "messageHandlers": {},
                              "title": "choice_frame",
                              "content": {
                                "type": "lab.flow.Loop",
                                "templateParameters": [
                                  {
                                    "RefA": 0,
                                    "RefB": "6",
                                    "VarA": "0",
                                    "VarB": "0",
                                    "Ref_PB": "PB18.png",
                                    "Var_PB": "PB00.png",
                                    "sublock": 0,
                                    "block": "1"
                                  }
                                ],
                                "sample": {
                                  "mode": "sequential",
                                  "n": ""
                                },
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {
                                  "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                },
                                "title": "choice_loop",
                                "tardy": true,
                                "shuffleGroups": [],
                                "template": {
                                  "type": "lab.flow.Sequence",
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
} else if(this.parameters.VarA == 0){
    this.parameters.VarA1 = this.parameters.Blank;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                  },
                                  "title": "choice_sequence",
                                  "tardy": true,
                                  "content": [
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 40.22,
                                          "height": 54.24,
                                          "stroke": "#ffffff",
                                          "strokeWidth": 1,
                                          "fill": "#aaaaaa",
                                          "text": "+",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "48",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "fixCross",
                                      "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 90.73,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                        "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                        "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                        "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                        "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                        "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                        "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                        "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                        "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                        "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                        "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                        "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                        "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                        "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                        "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                        "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                        "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                        "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "timeout",
                                      "timeout": "500",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "black",
                                          "strokeWidth": 1,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 103,
                                          "height": 27.12,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "black",
                                          "text": "Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "24",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": 450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 70,
                                          "height": 400,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -450,
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-250",
                                          "top": 275,
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyLeft.png\"] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "250",
                                          "top": "275",
                                          "angle": 0,
                                          "width": "50",
                                          "height": "50",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[\"KeyRight.png\"] }"
                                        }
                                      ],
                                      "files": {
                                        "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                        "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                        "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                        "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                        "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                        "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                        "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                        "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                        "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                        "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                        "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                        "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                        "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                        "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                        "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                        "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                        "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                        "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                        "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                      },
                                      "parameters": {},
                                      "responses": {
                                        "keydown(ArrowLeft)": "left",
                                        "keydown(ArrowRight)": "right"
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "choice",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 100,
                                          "height": 100,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": -150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownLeft6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": -50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.UpRight6] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight1] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight2] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 50,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight3] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 150,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight4] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 250,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight5] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": 350,
                                          "top": 150,
                                          "angle": 0,
                                          "width": 96.64,
                                          "height": 99.11,
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.DownRight6] }"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": -200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 250,
                                          "top": 200,
                                          "angle": 0,
                                          "width": 300,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": -400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseL}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 400,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "line",
                                          "left": 100,
                                          "top": 0,
                                          "angle": 270,
                                          "width": 400,
                                          "height": 0,
                                          "stroke": "${this.state.choseR}",
                                          "strokeWidth": 2,
                                          "fill": "rgb(0,0,0)"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": -250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textL}",
                                          "text": "You chose Option 1",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "i-text",
                                          "left": 250,
                                          "top": -250,
                                          "angle": 0,
                                          "width": 191.22,
                                          "height": 24.86,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.textR}",
                                          "text": "You chose Option 2",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": "22",
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        },
                                        {
                                          "type": "image",
                                          "left": "450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.RightBar] }"
                                        },
                                        {
                                          "type": "image",
                                          "left": "-450",
                                          "top": 0,
                                          "angle": 0,
                                          "width": "70",
                                          "height": "400",
                                          "stroke": null,
                                          "strokeWidth": 0,
                                          "fill": "black",
                                          "src": "${ this.files[this.parameters.LeftBar] }"
                                        }
                                      ],
                                      "files": {
                                        "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                        "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                        "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                        "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                        "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                        "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                        "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                        "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                        "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                        "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                        "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                        "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                        "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                        "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                        "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                        "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                        "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                        "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                        "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                        "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                        "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                        "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                        "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                        "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                        "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                        "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                        "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                        "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                        "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                        "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                        "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                        "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                        "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                        "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                        "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                        "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                        "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                        "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                        "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                        "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                        "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                        "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                        "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                        "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                        "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                        "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                        "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                        "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                        "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                        "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                        "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                        "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                        "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                        "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                        "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png",
                                        "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png"
                                      },
                                      "parameters": {},
                                      "responses": {},
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f";
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "square",
                                      "timeout": "1000",
                                      "tardy": true
                                    },
                                    {
                                      "type": "lab.canvas.Screen",
                                      "content": [
                                        {
                                          "type": "i-text",
                                          "left": 0,
                                          "top": 0,
                                          "angle": 0,
                                          "width": 311.3,
                                          "height": 36.16,
                                          "stroke": null,
                                          "strokeWidth": 1,
                                          "fill": "${this.state.lateRespFeed}",
                                          "text": "Please respond faster",
                                          "fontStyle": "normal",
                                          "fontWeight": "normal",
                                          "fontSize": 32,
                                          "fontFamily": "sans-serif",
                                          "lineHeight": 1.16,
                                          "textAlign": "center"
                                        }
                                      ],
                                      "files": {},
                                      "parameters": {},
                                      "responses": {
                                        "": ""
                                      },
                                      "messageHandlers": {
                                        "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                      },
                                      "viewport": [
                                        800,
                                        600
                                      ],
                                      "title": "ITI_late",
                                      "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                      "tardy": true,
                                      "skip": "${this.parameters.skip}"
                                    }
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_3",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB03.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB05.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB09.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB11.png",
                                      "sublock": 3,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "3",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB12.png",
                                      "sublock": 3,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.flow.Loop",
                          "templateParameters": [
                            {
                              "rep": "1",
                              "": ""
                            },
                            {
                              "rep": "2",
                              "": ""
                            },
                            {
                              "rep": "3",
                              "": ""
                            },
                            {
                              "rep": "4",
                              "": ""
                            },
                            {
                              "rep": "5",
                              "": ""
                            },
                            {
                              "rep": "6",
                              "": ""
                            }
                          ],
                          "sample": {
                            "mode": "draw-shuffle",
                            "n": ""
                          },
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "Loop",
                          "shuffleGroups": [],
                          "template": {
                            "type": "lab.flow.Sequence",
                            "files": {},
                            "responses": {
                              "": ""
                            },
                            "parameters": {},
                            "messageHandlers": {},
                            "title": "sublock_4",
                            "content": [
                              {
                                "type": "lab.html.Frame",
                                "context": "\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E",
                                "contextSelector": "[data-labjs-section=\"frame\"]",
                                "files": {},
                                "responses": {
                                  "": ""
                                },
                                "parameters": {},
                                "messageHandlers": {},
                                "title": "choice_frame",
                                "content": {
                                  "type": "lab.flow.Loop",
                                  "templateParameters": [
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "0",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB01.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "1",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB02.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "2",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB04.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "3",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB06.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "4",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB07.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "5",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB08.png",
                                      "sublock": 4,
                                      "block": "1"
                                    },
                                    {
                                      "RefA": 0,
                                      "RefB": "6",
                                      "VarA": "4",
                                      "VarB": "6",
                                      "Ref_PB": "PB18.png",
                                      "Var_PB": "PB10.png",
                                      "sublock": 4,
                                      "block": "1"
                                    }
                                  ],
                                  "sample": {
                                    "mode": "draw-shuffle",
                                    "n": ""
                                  },
                                  "files": {},
                                  "responses": {
                                    "": ""
                                  },
                                  "parameters": {},
                                  "messageHandlers": {
                                    "before:prepare": function anonymous() {
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B
}
                                  },
                                  "title": "choice_loop",
                                  "tardy": true,
                                  "shuffleGroups": [],
                                  "template": {
                                    "type": "lab.flow.Sequence",
                                    "files": {},
                                    "responses": {
                                      "": ""
                                    },
                                    "parameters": {},
                                    "messageHandlers": {
                                      "before:prepare": function anonymous() {


this.parameters.Blank = "blank.png"

//forward state -> i should do it with list but im at 38.5 so Im lazy af
if(this.parameters.RefB == 2){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.Blank;
    this.parameters.RefB4 = this.parameters.Blank;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 4){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.Blank;
    this.parameters.RefB6 = this.parameters.Blank;
    this.parameters.RefB7 = this.parameters.Blank;
} else if(this.parameters.RefB == 6){
    this.parameters.RefB1 = this.parameters.ImgB;
    this.parameters.RefB2 = this.parameters.ImgB;
    this.parameters.RefB3 = this.parameters.ImgB;
    this.parameters.RefB4 = this.parameters.ImgB;
    this.parameters.RefB5 = this.parameters.ImgB;
    this.parameters.RefB6 = this.parameters.ImgB;
    this.parameters.RefB7 = this.parameters.Blank;
}


if(this.parameters.VarA == 1){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.Blank;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 2){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.Blank;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 3){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.Blank;
} else if(this.parameters.VarA == 4){
    this.parameters.VarA1 = this.parameters.ImgA;
    this.parameters.VarA2 = this.parameters.ImgA;
    this.parameters.VarA3 = this.parameters.ImgA;
    this.parameters.VarA4 = this.parameters.ImgA;
}


if(this.parameters.VarB == 0){
    this.parameters.VarB1 = this.parameters.Blank;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 1){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.Blank;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
        this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 2){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.Blank;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 3){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.Blank;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 4){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.Blank;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 5){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.Blank;
} else if(this.parameters.VarB == 6){
    this.parameters.VarB1 = this.parameters.ImgB;
    this.parameters.VarB2 = this.parameters.ImgB;
    this.parameters.VarB3 = this.parameters.ImgB;
    this.parameters.VarB4 = this.parameters.ImgB;
    this.parameters.VarB5 = this.parameters.ImgB;
    this.parameters.VarB6 = this.parameters.ImgB;
}

//done

// random list
this.parameters.list = this.random.choice([3, 4]) //, 1, 2 a re other side


// forward state
switch(this.parameters.list) {
  // UL RefA - DL RefB // UR VarA DR RefA
  // case 1:
  //   this.parameters.UpLeft1    = this.parameters.Blank;
  //   this.parameters.UpLeft2    = this.parameters.Blank;
  //   this.parameters.UpLeft3    = this.parameters.Blank;
  //   this.parameters.UpLeft4    = this.parameters.Blank;
  //   this.parameters.UpLeft5    = this.parameters.Blank;
  //   this.parameters.UpLeft6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownLeft1  = this.parameters.RefB1; 
  //   this.parameters.DownLeft2  = this.parameters.RefB2; 
  //   this.parameters.DownLeft3  = this.parameters.RefB3; 
  //   this.parameters.DownLeft4  = this.parameters.RefB4;
  //   this.parameters.DownLeft5  = this.parameters.RefB5;
  //   this.parameters.DownLeft6  = this.parameters.RefB6;

  //   this.parameters.LeftBar  = this.parameters.Ref_PB;

  //     // -- VS --  //

  //   this.parameters.UpRight1   = this.parameters.VarA1;
  //   this.parameters.UpRight2   = this.parameters.VarA2;
  //   this.parameters.UpRight3   = this.parameters.VarA3;
  //   this.parameters.UpRight4   = this.parameters.VarA4;
  //   this.parameters.UpRight5   = this.parameters.Blank;
  //   this.parameters.UpRight6   = this.parameters.Blank;

  //   this.parameters.DownRight1 = this.parameters.VarB1;
  //   this.parameters.DownRight2 = this.parameters.VarB2;
  //   this.parameters.DownRight3 = this.parameters.VarB3;
  //   this.parameters.DownRight4 = this.parameters.VarB4;
  //   this.parameters.DownRight5 = this.parameters.VarB5;
  //   this.parameters.DownRight6 = this.parameters.VarB6;

  //   this.parameters.RightBar  = this.parameters.Var_PB;

  // break;

  //  // UL VarA DL VarB // UR RefA - DR RefB
  // case 2:

  //   this.parameters.UpLeft1   = this.parameters.VarA1;
  //   this.parameters.UpLeft2   = this.parameters.VarA2;
  //   this.parameters.UpLeft3   = this.parameters.VarA3;
  //   this.parameters.UpLeft4   = this.parameters.VarA4;
  //   this.parameters.UpLeft5   = this.parameters.Blank;
  //   this.parameters.UpLeft6   = this.parameters.Blank;

  //   this.parameters.DownLeft1 = this.parameters.VarB1;
  //   this.parameters.DownLeft2 = this.parameters.VarB2;
  //   this.parameters.DownLeft3 = this.parameters.VarB3;
  //   this.parameters.DownLeft4 = this.parameters.VarB4;
  //   this.parameters.DownLeft5 = this.parameters.VarB5;
  //   this.parameters.DownLeft6 = this.parameters.VarB6;

  //   this.parameters.LeftBar  = this.parameters.Var_PB;
 
  //      // -- VS --  //

  //   this.parameters.UpRight1    = this.parameters.Blank;
  //   this.parameters.UpRight2    = this.parameters.Blank;
  //   this.parameters.UpRight3    = this.parameters.Blank;
  //   this.parameters.UpRight4    = this.parameters.Blank;
  //   this.parameters.UpRight5    = this.parameters.Blank;
  //   this.parameters.UpRight6    = this.parameters.RefB7; //put it her because it looks nicer

  //   this.parameters.DownRight1  = this.parameters.RefB1; 
  //   this.parameters.DownRight2  = this.parameters.RefB2; 
  //   this.parameters.DownRight3  = this.parameters.RefB3; 
  //   this.parameters.DownRight4  = this.parameters.RefB4; 
  //   this.parameters.DownRight5  = this.parameters.RefB5; 
  //   this.parameters.DownRight6  = this.parameters.RefB6;

  //   this.parameters.RightBar  = this.parameters.Ref_PB;

  // break;

  // UL VarB DL VarA // UR RefB - DR RefB
  case 3:

    this.parameters.DownLeft1   = this.parameters.VarA1;
    this.parameters.DownLeft2   = this.parameters.VarA2;
    this.parameters.DownLeft3   = this.parameters.VarA3;
    this.parameters.DownLeft4   = this.parameters.VarA4;
    this.parameters.DownLeft5   = this.parameters.Blank;
    this.parameters.DownLeft6   = this.parameters.Blank;

    this.parameters.UpLeft1 = this.parameters.VarB1;
    this.parameters.UpLeft2 = this.parameters.VarB2;
    this.parameters.UpLeft3 = this.parameters.VarB3;
    this.parameters.UpLeft4 = this.parameters.VarB4;
    this.parameters.UpLeft5 = this.parameters.VarB5;
    this.parameters.UpLeft6 = this.parameters.VarB6;

    this.parameters.LeftBar  = this.parameters.Var_PB;
 
       // -- VS --  //

    this.parameters.DownRight1    = this.parameters.Blank;
    this.parameters.DownRight2    = this.parameters.Blank;
    this.parameters.DownRight3    = this.parameters.Blank;
    this.parameters.DownRight4    = this.parameters.Blank;
    this.parameters.DownRight5    = this.parameters.Blank;
    this.parameters.DownRight6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpRight1  = this.parameters.RefB1; 
    this.parameters.UpRight2  = this.parameters.RefB2; 
    this.parameters.UpRight3  = this.parameters.RefB3; 
    this.parameters.UpRight4  = this.parameters.RefB4; 
    this.parameters.UpRight5  = this.parameters.RefB5; 
    this.parameters.UpRight6  = this.parameters.RefB6;

    this.parameters.RightBar  = this.parameters.Ref_PB;

  break;

  // UL RefB - DL RefA // UR VarB DR RefB
  case 4:
    this.parameters.DownLeft1    = this.parameters.Blank;
    this.parameters.DownLeft2    = this.parameters.Blank;
    this.parameters.DownLeft3    = this.parameters.Blank;
    this.parameters.DownLeft4    = this.parameters.Blank;
    this.parameters.DownLeft5    = this.parameters.Blank;
    this.parameters.DownLeft6    = this.parameters.RefB7; //put it her because it looks nicer

    this.parameters.UpLeft1  = this.parameters.RefB1; 
    this.parameters.UpLeft2  = this.parameters.RefB2; 
    this.parameters.UpLeft3  = this.parameters.RefB3; 
    this.parameters.UpLeft4  = this.parameters.RefB4;
    this.parameters.UpLeft5  = this.parameters.RefB5;
    this.parameters.UpLeft6  = this.parameters.RefB6;

    this.parameters.LeftBar  = this.parameters.Ref_PB;

      // -- VS --  //

    this.parameters.DownRight1   = this.parameters.VarA1;
    this.parameters.DownRight2   = this.parameters.VarA2;
    this.parameters.DownRight3   = this.parameters.VarA3;
    this.parameters.DownRight4   = this.parameters.VarA4;
    this.parameters.DownRight5   = this.parameters.Blank;
    this.parameters.DownRight6   = this.parameters.Blank;

    this.parameters.UpRight1 = this.parameters.VarB1;
    this.parameters.UpRight2 = this.parameters.VarB2;
    this.parameters.UpRight3 = this.parameters.VarB3;
    this.parameters.UpRight4 = this.parameters.VarB4;
    this.parameters.UpRight5 = this.parameters.VarB5;
    this.parameters.UpRight6 = this.parameters.VarB6;

    this.parameters.RightBar  = this.parameters.Var_PB;

  break;

}
          
}
                                    },
                                    "title": "choice_sequence",
                                    "tardy": true,
                                    "content": [
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 40.22,
                                            "height": 54.24,
                                            "stroke": "#ffffff",
                                            "strokeWidth": 1,
                                            "fill": "#aaaaaa",
                                            "text": "+",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "48",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// update trial counter
this.state.trial_count = this.state.trial_count + 1;

}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "fixCross",
                                        "timeout": "${ this.random.choice([250, 300, 350, 400, 450, 500, 550, 600, 650, 700, 750]) }",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 90.73,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
debugger
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "timeout",
                                        "timeout": "500",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "black",
                                            "strokeWidth": 1,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 103,
                                            "height": 27.12,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "black",
                                            "text": "Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "24",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": 450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 70,
                                            "height": 400,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -450,
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-250",
                                            "top": 275,
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyLeft.png\"] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "250",
                                            "top": "275",
                                            "angle": 0,
                                            "width": "50",
                                            "height": "50",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[\"KeyRight.png\"] }"
                                          }
                                        ],
                                        "files": {
                                          "KeyLeft.png": "embedded\u002Ff0084ee7ca05fb718b597ae174d158a0f65260b46202f874546cd2609a061e7c.png",
                                          "KeyRight.png": "embedded\u002Ff5e73d908f42e694989a123c10007c351710a91323cfcd87569f43799328ba4a.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "PB00.png": "embedded\u002F2410eb72595e2b5b1014f3e47f1ad1ebedd063bc81b6581296aa02272ec069ed.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {
                                          "keydown(ArrowLeft)": "left",
                                          "keydown(ArrowRight)": "right"
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {
// PRELOAD IMAGES
// create image array
inst_imgArray = ["KeyLeft.png", "KeyRight.png", this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);

// update trial counter
this.state.trial_countO = this.state.trial_countO + 1;


}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "choice",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 100,
                                            "height": 100,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": -150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownLeft6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": -50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.UpRight6] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight1] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight2] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 50,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight3] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 150,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight4] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 250,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight5] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": 350,
                                            "top": 150,
                                            "angle": 0,
                                            "width": 96.64,
                                            "height": 99.11,
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.DownRight6] }"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": -200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 250,
                                            "top": 200,
                                            "angle": 0,
                                            "width": 300,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": -400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseL}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 400,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "line",
                                            "left": 100,
                                            "top": 0,
                                            "angle": 270,
                                            "width": 400,
                                            "height": 0,
                                            "stroke": "${this.state.choseR}",
                                            "strokeWidth": 2,
                                            "fill": "rgb(0,0,0)"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": -250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textL}",
                                            "text": "You chose Option 1",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "i-text",
                                            "left": 250,
                                            "top": -250,
                                            "angle": 0,
                                            "width": 191.22,
                                            "height": 24.86,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.textR}",
                                            "text": "You chose Option 2",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": "22",
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          },
                                          {
                                            "type": "image",
                                            "left": "450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.RightBar] }"
                                          },
                                          {
                                            "type": "image",
                                            "left": "-450",
                                            "top": 0,
                                            "angle": 0,
                                            "width": "70",
                                            "height": "400",
                                            "stroke": null,
                                            "strokeWidth": 0,
                                            "fill": "black",
                                            "src": "${ this.files[this.parameters.LeftBar] }"
                                          }
                                        ],
                                        "files": {
                                          "PB12.png": "embedded\u002Fc879fb8c708145266c04c0871347d7138d94be09adfd863a1b12ae25337c9e87.png",
                                          "PB08.png": "embedded\u002Faec31f01dd88c7b8a0685174ed6a8c69506fe010059d9b4be911b1540a0a4f28.png",
                                          "PB13.png": "embedded\u002F0eb628ca602a4a5be72e35a8e51bff5386252f75f685384527936eeedb08878d.png",
                                          "PB14.png": "embedded\u002F3715a68510c431ec61404028a26a16198315852b1ca6b783d677f38d38651ab8.png",
                                          "PB09.png": "embedded\u002Fab01f8a382102c1d765b796de0b9b31971484aa8e4f53b0e0d95ead392c3f10f.png",
                                          "PB11.png": "embedded\u002Fb35a4073472de7471a453ebb1ada0de7bf4334e91d763961da994500ecdd8141.png",
                                          "PB07.png": "embedded\u002F27f9350343b060f54ae6d4520ef55aa3bf02414b8cce88b82480211cfceb1d0b.png",
                                          "PB04.png": "embedded\u002F45f817e966ad4ca23402976193f799eb3398b243161c35f38407157926239c59.png",
                                          "PB06.png": "embedded\u002F6e558ebc5c1b1bb2568ff186767db21144a4c158a2bd9026dd688fc314715cb3.png",
                                          "PB10.png": "embedded\u002F8f6005fd3885c08ecf2ac48119c6c5cf56ca4bfdc5af6396ffc0d9fbbfc3be3c.png",
                                          "PB15.png": "embedded\u002F762bb16eedd2665db4569650d35f9308b54a42967baab354475c2e44f88bee48.png",
                                          "PB16.png": "embedded\u002F61d95c3231463cb15610de26d851931c22a9b28576200b17306e535d2ca0bab0.png",
                                          "PB17.png": "embedded\u002F24b99ab4bca7bd95a0d5d424605ae63b436c70af6d8ab5536e344ea84d9e4d16.png",
                                          "PB03.png": "embedded\u002F4d064f63e1e4e119298caa1f66e0e4f6881ff65bd6b38d7be28c3ac61d1b7786.png",
                                          "PB02.png": "embedded\u002F8b4697b9aed4ed199837f4420d3b438cb5f99f1de1524e9294fca14fabea205d.png",
                                          "PB05.png": "embedded\u002F6da8bceca8f852ea2dfc3768e22acbfc2a6929fb21e18f37d0ef57d185289f91.png",
                                          "PB18.png": "embedded\u002F561da1b9e6096baf1ded3e4c177f0a36842a48f751ac09734096e4792a47cd24.png",
                                          "PB01.png": "embedded\u002Fd84dee6186d24df8ca98aaae8395ec848037e5ecc6e763de72db0cc2f51092c0.png",
                                          "strawberry.png": "embedded\u002F15f2bf2d968cbf8bf081a50a6cdc4d7a46e561810109a3ce4343bfacdc6a1e9a.png",
                                          "raspberry.png": "embedded\u002Faf0c64870f3b7853b9a89f111c5ad1fc813d6a975d3d691e9ea0efaf66330670.png",
                                          "praline.png": "embedded\u002F5e5329468ea24ec2073701957ba176c0f1a67ed86c7977038c36d364be0ab190.png",
                                          "pear.png": "embedded\u002F1a2cec76453542a2d78f422516bfc170d6a946205b56374fd730d52a45c7cc7b.png",
                                          "orange.png": "embedded\u002Fe04096ff2f6a1d84e37dcf6c9bd191feae8ca81a08fb2cb8624e6c9df1d947ee.png",
                                          "marshmallow.png": "embedded\u002Fa0031ad1d5aec3caf01a730301caa66b243096585d547a2bd84f5e84f5c7850f.png",
                                          "maltesers.png": "embedded\u002Ff07a7f68d58cb75dc0eab7083123c1c275576a7001d1d96e39ae136622aaea35.png",
                                          "m&m.png": "embedded\u002F4f86cc6a1e26b8ab049c67fd3b5e856523f1204e50ea3784b12bb41bed330055.png",
                                          "liqorice.png": "embedded\u002F43701e6e5e73964b09a5d2dc16f612d6c41e713647c3cbc9bdb07bb36b3f3648.png",
                                          "gummybear.png": "embedded\u002F14b1c2152a3a39e02fbc53b11d318be50adef37d3b0e1e4e148411cdf83e0566.png",
                                          "grape.png": "embedded\u002F1a4511857c91aa730804b0d7a5a7a76c0b6555e8a84d86d4bd2394caa53f3e08.png",
                                          "coconut.png": "embedded\u002Fc508aea782e649aeef7f956fe5ab26c4941a138a8344051f6658055271b5829c.png",
                                          "chocolate_truffle.png": "embedded\u002Ffe963d52f758dfd251fae855a67186ccaf2fa8545d485296526d6452225ed477.png",
                                          "chocolate.png": "embedded\u002F191edf12928fe5c3cd1d7906727d88fbfef38172816dc3eccba62761ebdf33ce.png",
                                          "cherry.png": "embedded\u002Ff6262d3efaae41be0c8de75d8cd81b38a6a7056a4d42d794368cae04c2eb14bd.png",
                                          "candy.png": "embedded\u002Fa3718691bb89a96823ba0d5ff8161eea91bd42802a27181424cdfe8a1c774595.png",
                                          "blueberry.png": "embedded\u002F6868be258a540df236d3b01201258cece431929810cce74589bc2426abf23d07.png",
                                          "apple.png": "embedded\u002F51ebec312076bcf165a605330ebe1e18b176c91546fe38cb99cdfe8ebfa0bf3b.png",
                                          "blank.png": "embedded\u002F96074a41ce90549c2080aba59549bb60a31080ae5a3e5ef1420c8220013b5ce7.png",
                                          "bretzel.png": "embedded\u002F1c8f688c8df38d33fa39a57cf2db78fbd6e0784b7a14113aeb59210cfa1e0274.png",
                                          "carrot.png": "embedded\u002F62367aa20cdee9eca85d6bf8c7e26118cbc62a3c1658c0a172c53fd16bdf5e28.png",
                                          "cashew.png": "embedded\u002F2c2278bc61e771e3eea1f5a956150ae4ffea33f4e66e768e6dcb22bca6be8bd5.png",
                                          "celery.png": "embedded\u002F02c491520a73d2bdf5051a30505e6ccd3f96a22804d8f61b089c8592e44c7223.png",
                                          "chips.png": "embedded\u002F0a04d2cc0a1d29f5af009731c56d1f2b95310acdb144755baf07aa30dc5c6608.png",
                                          "cucumber.png": "embedded\u002F50f4418d2bc76ec9dc06be993db0c3625d725a5f90658ca4c658d66ecaa53334.png",
                                          "dried_meat.png": "embedded\u002F78cac152d1321c185f1e8c9cad8a88ebaf5ea4f8d28be098df19546cb7249bf1.png",
                                          "edamame.png": "embedded\u002F53b0a594ec4e72d2e3fb17ae154e622ff460396710a9a9c851d214747296cabf.png",
                                          "frie.png": "embedded\u002F94efe1cc1b473896437242ca183e145dfefc7a3a2bc195070c1956ade255f995.png",
                                          "ham.png": "embedded\u002Fc73ed8dbe5a0c5edaeec51d4c6f60df560d7b34f299baebbc3fa6b25862a7e68.png",
                                          "nacho.png": "embedded\u002F5842f9cf0d7a0612f302b681e6a6e9bbaa9a5d13d21195b4bd676a06238cacc9.png",
                                          "peanut_cracker.png": "embedded\u002F5eed790e303231c55649b78a70cce59442ab8527c6635f044a37b203fc6cc9ff.png",
                                          "pickle.png": "embedded\u002Fcfbb487fa2ab6c8cae7d84d961013db3074afff928f82db6eaab6ca446fa802a.png",
                                          "radish.png": "embedded\u002Fc17dd65d06117ae1ca50dc39d4b3b47c5418b3c33069ebb9d12b0572a4e34fe1.png",
                                          "ritz.png": "embedded\u002F78ceb64364816a1ba7d0c2f31d7109fd8c265251ce5e68779a8ea5ad4c5d5111.png",
                                          "sausage.png": "embedded\u002Fd134eb95bebaeaa1f1bdd69d5b126ffce8cd1066c080b862c785da25d14276d3.png",
                                          "tomato.png": "embedded\u002Fa20225b7904cb8c8da827d4397d2fe4af4eb9338368ffdd02c2c44f438c298be.png",
                                          "walnut.png": "embedded\u002F3ad93bde6203a62541f97357c29d0c6dc53c11e8ea72abd2027215a8880c1441.png"
                                        },
                                        "parameters": {},
                                        "responses": {},
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {


if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "left"){
    this.state.choseL = "#33ff3f" ;
    this.state.choseR = "#808080";
    this.state.textL = "black";
    this.state.textR = "white";
} else if(this.options.datastore.extract('response', 'choice')[this.state.trial_count-1]== "right"){
  this.state.choseL = "#808080";
  this.state.choseR = "#33ff3f";
  this.state.textL = "white";
  this.state.textR = "black";
} else {
  this.state.choseL = "white";
  this.state.choseR = "white";
  this.state.textL = "white";
  this.state.textR = "white";
}

// PRELOAD IMAGES
// create image array
inst_imgArray = [this.parameters.LeftBar, this.parameters.RightBar, this.parameters.ImgA, this.parameters.ImgB, "blank.png"];

// preload media
this.options.media.images = inst_imgArray.map(image => this.files[image]);



}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "square",
                                        "timeout": "1000",
                                        "tardy": true
                                      },
                                      {
                                        "type": "lab.canvas.Screen",
                                        "content": [
                                          {
                                            "type": "i-text",
                                            "left": 0,
                                            "top": 0,
                                            "angle": 0,
                                            "width": 311.3,
                                            "height": 36.16,
                                            "stroke": null,
                                            "strokeWidth": 1,
                                            "fill": "${this.state.lateRespFeed}",
                                            "text": "Please respond faster",
                                            "fontStyle": "normal",
                                            "fontWeight": "normal",
                                            "fontSize": 32,
                                            "fontFamily": "sans-serif",
                                            "lineHeight": 1.16,
                                            "textAlign": "center"
                                          }
                                        ],
                                        "files": {},
                                        "parameters": {},
                                        "responses": {
                                          "": ""
                                        },
                                        "messageHandlers": {
                                          "before:prepare": function anonymous() {

// late response (> 5000ms)
if(this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000){
  this.state.lateRespFeed = "black";
} else {
  this.state.lateRespFeed = "white";
}

//${this.options.datastore.extract('duration', 'choice')[this.state.trial_count-1]>5000) == '1'}




}
                                        },
                                        "viewport": [
                                          800,
                                          600
                                        ],
                                        "title": "ITI_late",
                                        "timeout": "${ this.random.choice([250, 500, 750, 1000, 1250]) }",
                                        "tardy": true,
                                        "skip": "${this.parameters.skip}"
                                      }
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "keypress(Space)": "continue"
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "EndTask",
                          "content": "\u003Cmain style=\"font-size: 24px;\" class=\"content-horizontal-center content-vertical-center\"\u003E \n  Great! You finished the main task! \u003Cbr\u003E\n  We will now ask you a few questions.\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cem\u003EPress the \u003Ckbd style=\"color: black\"\u003Espacebar\u003C\u002Fkbd\u003E to continue\u003C\u002Fem\u003E\n\u003C\u002Ffooter\u003E"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "parameters": {
            "message": "Transferring data",
            "subtitle": "Please wait a second…"
          },
          "responses": {
            "": ""
          },
          "messageHandlers": {
            "run": function anonymous() {
const transmitPlugins = this.parents[0].plugins.plugins
  .filter(p => p instanceof lab.plugins.Transmit)

if (transmitPlugins.length > 0) {
  // If a transmitPlugin is available,
  // pull out its options and transfer the data
  const ds = this.options.datastore
  const tp = transmitPlugins[0]
  ds.transmit(
    tp.url,
    { ...tp.metadata, payload: 'full' },
    { headers: tp.headers, encoding: tp.encoding },
  ).then(
    () => this.end('transmission successful')
  ).catch(
    () => this.end('transmission failed')
  )
} else if ('jatos' in window) {
  // If JATOS is available, send data there
  jatos.submitResultData(
    this.options.datastore.exportJson(),
    () => this.end('transmission successful'),
    () => this.end('transmission failed')
  )
} else {
  this.end('no compatible backend')
}
}
          },
          "title": "data_transmission",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n    \u003Cimg src=\"lib\u002Floading.svg\"\u003E\n    \u003Cp\u003E\n      \u003Cspan class=\"font-weight-bold\"\u003E\n        ${ this.parameters.message }\n      \u003C\u002Fspan\u003E\u003Cbr\u003E\n      \u003Cspan class=\"text-muted\"\u003E\n        ${ this.parameters.subtitle }\n      \u003C\u002Fspan\u003E\n    \u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
          "notes": "This template transmits the study data to a compatible server-side backend. Currently, it supports the PHP, Open Lab and JATOS backends.\n\nIt will wait until the data is transferred, showing a waiting screen with the text defined below, and continue with the remainder of the study after the transmission is complete. Please note that this screen will be skipped if no compatible backend is available."
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n\n    \u003Cstyle\u003E\n        table {\n            border-collapse: collapse;\n            color: black;\n      }\n      \n        td {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: 1px solid black;\n        border-left: 0px;\n        border-right: 0px;\n        text-align: center;\n        width: 15%;\n        font-weight: bold;\n      }\n      \n        th {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-left: 0px;\n        border-right: 0px;\n        border-bottom: 1px solid black;\n        color: black;\n        width: 25%;\n        text-align: left;\n      }\n  \u003C\u002Fstyle\u003E\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \u003Cp\u003EPlease answer to the following questions to continue.\u003C\u002Fp\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cform id=\"taskQuestions\"\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskDifficulty1\"\u003EVery easy\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskDifficulty2\"\u003EEasy\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskDifficulty3\"\u003ENeither easy nor difficult\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskDifficulty4\"\u003EDifficult\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskDifficulty5\"\u003EVery difficult\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n          \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003EHow difficult was the main task?\u003C\u002Fspan \u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_difficulty\" value=\"1\" id=\"taskDifficulty1\" title=\"very difficult\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_difficulty\" value=\"2\" id=\"taskDifficulty2\" title=\"difficult\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_difficulty\" value=\"3\" id=\"taskDifficulty3\" title=\"neither easy nor hard\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_difficulty\" value=\"4\" id=\"taskDifficulty4\" title=\"easy\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_difficulty\" value=\"5\" id=\"taskDifficulty5\" title=\"very easy\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskfocus1\"\u003ENot focused at all\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskfocus2\"\u003ENot very focused\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskfocus3\"\u003ESomewhat focused\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskfocus4\"\u003EVery focused\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskfocus5\"\u003EExtremely focused\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n          \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003EHow focused were you during the main task?\u003C\u002Fspan \u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_focus\" value=\"1\" id=\"taskfocus1\" title=\"not at all focus\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_focus\" value=\"2\" id=\"taskfocus2\" title=\"not very focus\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_focus\" value=\"3\" id=\"taskfocus3\" title=\"somewhat focus\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_focus\" value=\"4\" id=\"taskfocus4\" title=\"very focus\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_focus\" value=\"5\" id=\"taskfocus5\" title=\"extremely focus\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskEngaged1\"\u003ENot at all engaging\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskEngaged2\"\u003ENot very engaging\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskEngaged3\"\u003ESomewhat engaging\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskEngaged4\"\u003EVery engaging\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"taskEngaged5\"\u003EExtremely engaging\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n          \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003EHow engaging did you find the main task?\u003C\u002Fspan \u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_engagement\" value=\"1\" id=\"taskEngaged1\" title=\"not at all engaging\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_engagement\" value=\"2\" id=\"taskEngaged2\" title=\"not very engaging\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_engagement\" value=\"3\" id=\"taskEngaged3\" title=\"somewhat engaging\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_engagement\" value=\"4\" id=\"taskEngaged4\" title=\"very engaging\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"task_engagement\" value=\"5\" id=\"taskEngaged5\" title=\"extremely enaging\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"taskQuestions\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "TaskQ"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n\n    \u003Cstyle\u003E\n        table {\n            border-collapse: collapse;\n            color: black;\n      }\n      \n        td {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: 1px solid black;\n        border-left: 0px;\n        border-right: 0px;\n        text-align: center;\n        width: 15%;\n        font-weight: bold;\n      }\n      \n        th {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-left: 0px;\n        border-right: 0px;\n        border-bottom: 1px solid black;\n        color: black;\n        width: 25%;\n        text-align: left;\n      }\n        \n    \u003C\u002Fstyle\u003E\n\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \n    \u003C\u002Fdiv\u003E\n\n    \u003Csection style=\"text-align: center;\"\u003E\n\n        \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n            \u003Cp\u003EIn the main task of this study, you were asked to choose between, on the one hand, a snack option composed by 6 units of one single type of food, and on the other hand, a mix of two different types of food, with different proportions of them.\u003C\u002Fp\u003E\u003Cbr\u003E\n            \u003Cp\u003EPlease indicate how much you agree or disagree with the following statements.\u003C\u002Fp\u003E\u003Cbr\u003E\n        \u003C\u002Fdiv\u003E\n\n        \u003Cform id=\"mixQ\"\u003E\n\n            \u003Ctable\u003E\n\n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"mixQ1\"\u003ECompletely disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"mixQ2\"\u003EFairly disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"mixQ3\"\u003ENeither agree nor disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"mixQ4\"\u003EFairly agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"mixQ5\"\u003ECompletely agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E \u003Cspan style=\"font-weight:normal\"\u003EIn one of the two options, the mix between two types of food was unusual.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item1\" value=\"1\" id=\"mixQ1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item1\" value=\"2\" id=\"mixQ2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item1\" value=\"3\" id=\"mixQ3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item1\" value=\"4\" id=\"mixQ4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item1\" value=\"5\" id=\"mixQ5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E \u003Cspan style=\"font-weight:normal\"\u003EI clearly prefered one type of food over the other.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item2\" value=\"1\" id=\"mixQ1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item2\" value=\"2\" id=\"mixQ2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item2\" value=\"3\" id=\"mixQ3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item2\" value=\"4\" id=\"mixQ4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item2\" value=\"5\" id=\"mixQ5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E \u003Cspan style=\"font-weight:normal\"\u003EI generally prefered the option with only one type of food over the mixed option.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item3\" value=\"1\" id=\"mixQ1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item3\" value=\"2\" id=\"mixQ2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item3\" value=\"3\" id=\"mixQ3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item3\" value=\"4\" id=\"mixQ4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item3\" value=\"5\" id=\"mixQ5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E \u003Cspan style=\"font-weight:normal\"\u003EThe mix of two different types of food made the snack option less appealing than if the two types were presented separately.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item4\" value=\"1\" id=\"mixQ1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item4\" value=\"2\" id=\"mixQ2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item4\" value=\"3\" id=\"mixQ3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item4\" value=\"4\" id=\"mixQ4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item4\" value=\"5\" id=\"mixQ5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E \u003Cspan style=\"font-weight:normal\"\u003EEven though I really like the two types of food, I found that some snack options contained too much food.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item5\" value=\"1\" id=\"mixQ1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item5\" value=\"2\" id=\"mixQ2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item5\" value=\"3\" id=\"mixQ3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item5\" value=\"4\" id=\"mixQ4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"mixQ_item5\" value=\"5\" id=\"mixQ5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n            \u003C\u002Ftable\u003E\n            \n        \u003C\u002Fform\u003E\n        \n\u003C\u002Fsection\u003E\n\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left: auto; margin-right: 0\"\u003E\n    \u003Cbutton type=\"submit\" form=\"mixQ\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "MixQ"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n\n    \u003Cstyle\u003E\n        table {\n            border-collapse: collapse;\n            color: black;\n      }\n      \n        td {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: 1px solid black;\n        border-left: 0px;\n        border-right: 0px;\n        text-align: center;\n        width: 15%;\n        font-weight: bold;\n      }\n      \n        th {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-left: 0px;\n        border-right: 0px;\n        border-bottom: 1px solid black;\n        color: black;\n        width: 25%;\n        text-align: left;\n      }\n  \u003C\u002Fstyle\u003E\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \u003Cp\u003EPlease answer to the following questions to continue.\u003C\u002Fp\u003E\u003Cbr\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cform id=\"hunger\"\u003E\n      \u003Ctable style=\"color: black\"\u003E\n        \u003Ctr\u003E\n          \u003Cth\u003E\u003C\u002Fth\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"hungry1\"\u003ENot hungry at all\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"hungry2\"\u003ENot very hungry\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"hungry3\"\u003ESomewhat hungry\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"hungry4\"\u003EVery hungry\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n          \u003Ctd style=\"width: 15%\"\u003E\u003Clabel for=\"hungry5\"\u003EExtremely hungry\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n        \u003Ctr\u003E\n          \u003Cth style=\"color: black; width: 25%\"\u003E\u003Cspan style=\"font-weight:normal\"\u003EWhat is your current level of hunger?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"hunger\" value=\"1\" id=\"hunger1\" title=\"notall\" required\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"hunger\" value=\"2\" id=\"hunger2\" title=\"notvery\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"hunger\" value=\"3\" id=\"hunger3\" title=\" somewhat\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"hunger\" value=\"4\" id=\"hunger4\" title=\"very\"\u003E\u003C\u002Ftd\u003E\n          \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"hunger\" value=\"5\" id=\"hunger5\" title=\"extremely\"\u003E\u003C\u002Ftd\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n      \u003Cbr\u003E\n      \u003Ctable style=\"color: black; text-align: left;\"\u003E\n        \u003Ctr\u003E\n        \u003Clabel for=\"input_meal\"\u003E\u003Cspan style=\"font-weight:normal\"\u003EWhen was your last meal (how many hours ago)?:\u003C\u002Fspan\u003E\u003C\u002Flabel\u003E\n        \u003Cinput type=\"text\" name=\"input_meal\" id=\"input_meal\" required\u003E\n        \u003C\u002Ftr\u003E\n      \u003C\u002Ftable\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"hunger\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "HungerQ"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection style=\"text-align: center; width: 100%\"\u003E\n    \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n      \u003Cp\u003EWhich image did you see during the main task?\u003C\u002Fp\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cform id=\"attentionCheck\"\u003E\n      \u003Cdiv style=\"display: flex; flex-direction: row; align-items: center; justify-content: center;\"\u003E\n        \u003Cinput type=\"radio\" name=\"attention_check\" value=\"${ this.parameters.attCheck_valueA }\" required\u003E\n        \u003Clabel\u003E\u003Cimg src=\"${ this.files[this.parameters.attCheck_fileA] }\" style=\"height: 30%; width: 30%\"\u003E\u003C\u002Fimg\u003E\u003C\u002Flabel\u003E\n      \u003C\u002Fdiv\u003E\n      \u003Cdiv style=\"display: flex; flex-direction: row; align-items: center; justify-content: center;\"\u003E\n        \u003Cinput type=\"radio\" name=\"attention_check\" value=\"${ this.parameters.attCheck_valueB }\"\u003E\n        \u003Clabel\u003E\u003Cimg src=\"${ this.files[this.parameters.attCheck_fileB] }\" style=\"height: 30%; width: 30%\"\u003E\u003C\u002Fimg\u003E\u003C\u002Flabel\u003E\n      \u003C\u002Fdiv\u003E\n      \u003Cdiv style=\"display: flex; flex-direction: row; align-items: center; justify-content: center;\"\u003E\n        \u003Cinput type=\"radio\" name=\"attention_check\" value=\"${ this.parameters.attCheck_valueC }\"\u003E\n        \u003Clabel\u003E\u003Cimg src=\"${ this.files[this.parameters.attCheck_fileC] }\" style=\"height: 30%; width: 30%\"\u003E\u003C\u002Fimg\u003E\u003C\u002Flabel\u003E\n      \u003C\u002Fdiv\u003E\n            \u003Cdiv style=\"display: flex; flex-direction: row; align-items: center; justify-content: center;\"\u003E\n        \u003Cinput type=\"radio\" name=\"attention_check\" value=\"${ this.parameters.attCheck_valueD }\"\u003E\n        \u003Clabel\u003E\u003Cimg src=\"${ this.files[this.parameters.attCheck_fileD] }\" style=\"height: 30%; width: 30%\"\u003E\u003C\u002Fimg\u003E\u003C\u002Flabel\u003E\n      \u003C\u002Fdiv\u003E\n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter\u003E\n  \u003Cbutton type=\"submit\" form=\"attentionCheck\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {
            "brocoli.jpg": "embedded\u002F5a01c7f0986617b99cc238f2ea85eac7b7821dbac1e61abbd12b80c0a46797d5.jpg",
            "burger.jpg": "embedded\u002F2889598638ef5663e8c0d0400fbb14eea9c3bce3fafcbfc90fb06b9de94e847d.jpg",
            "watermelon.jpg": "embedded\u002Fb82d999c14175c61ead117d7fd2d911c79911eea67e98bf1839513852916879f.jpg",
            "apple.png": "embedded\u002F4966aeaca187e8ed1fe0a2672c828beafa758288dacf05259619357d391c3420.png",
            "blueberry.png": "embedded\u002Fcb25e757dfad4c5d4db48a5690cfdae5dbc3202397fa403cd99ac7d473271455.png",
            "bretzel.png": "embedded\u002Fc743011ec7ada72a3f16d20ff76c228f7f95640658cf2d0c25c96417313da040.png",
            "candy.png": "embedded\u002Fe6b9bcd93351866985238f719b609f04e7cc72e84432864726e46e1d27829cd6.png",
            "carrot.png": "embedded\u002F8bc3d7528c7dde76604e5e073a6f05ab8d005c1232197f058ceae865094c2274.png",
            "cashew.png": "embedded\u002Fe2b055ca1b34728278ea0450592384724a4cfad36a2bbec7353ee81c321a9b5e.png",
            "celery.png": "embedded\u002F8d09db60495cd5c3359ccdeaa617ca8c98625e9a3cfe6e1fd4fb9ad78504fe4f.png",
            "cherry.png": "embedded\u002Fca8a65625b32f3726330160112b2975b923936ba12a99cd25a9cd6c5dad77bfd.png",
            "chips.png": "embedded\u002Fff64b616e3c3b076d378bae291e0145fcb8312855c92ccf7af5cc48bb6dd2f92.png",
            "chocolate.png": "embedded\u002F6286aa89c623a2c3e575bcd20985da01bd3c2bb45693a25b24c18abd65859b3b.png",
            "chocolate_truffle.png": "embedded\u002Ffd3dcbd8f40bc3761122ef84130553246594e6a1752e6fd8c98638108e3a13c4.png",
            "coconut.png": "embedded\u002F651b0d0d4c4c27b81040a407d7c41ba457cf92292abcc8f47d88b96095384fbc.png",
            "cucumber.png": "embedded\u002Fe863edd40af5c9fff582f898deceb5585575439beefeaf88793a3e3ea39b822e.png",
            "dried_meat.png": "embedded\u002F8bb0e9061ceaeaac232cd002e443fd10e9f7cea04dc6fa3d1ed5fc9e7493e586.png",
            "edamame.png": "embedded\u002F437bff0b12bb75c557c7d607b880f0c961ad392389cd4970c430082c6266f782.png",
            "frie.png": "embedded\u002F001ad20ec38ff1483b7c4d1928a65b0def0a9d9e5b98946d213149c8402dcbf7.png",
            "grape.png": "embedded\u002Fd15c3efbece9d2d51f5b5ed43fa170112888999cecf7a6f347da6d12f53f3b8a.png",
            "gummybear.png": "embedded\u002Ff7c68ba133c5544c8d602a3bfc0a365cb89523849bfc0d8c462caad1d347aa1a.png",
            "ham.png": "embedded\u002F8ee1bbe9542db451fb2366346c1746b2fb12e84185d6bb42e999dce813750bde.png",
            "liqorice.png": "embedded\u002Fe6fea8c74a1b2e3b75f66db9a5d3dbb3ef7d15cc48055587941f86220408b3e1.png",
            "maltesers.png": "embedded\u002F303036e5ecf4aae790bbdfcd67675b39d80c543788d9f2fae353f7448b351d06.png",
            "marshmallow.png": "embedded\u002F36e2bc209e9344d3de97afdd0ab6c018330fbcbdfcebc6d085d6e8586ffdfa24.png",
            "m&m.png": "embedded\u002Fde1ee72122b259a47bbbf09d1c52f059ddfd32abc391158938d55ba702fa767b.png",
            "nacho.png": "embedded\u002F58c58f7b1045eb8e6c85f905e4772386c2fb932e411d51232850f6c69be3cc59.png",
            "orange.png": "embedded\u002F98cf47599d8766f1ac8cca3a5c842ce3dfb0d6537e9d132abdd83e7121c87187.png",
            "peanut_cracker.png": "embedded\u002Fdfa2946af76f2a7ff977648097276bf20a5a7a25e4172246ae8b5d464382d737.png",
            "pear.png": "embedded\u002F7180f9f1b4bf396a922b5a07c3dfca141fc94c515d099b7c468ac82e2efe6b99.png",
            "pickle.png": "embedded\u002F37a824e68ca8fc84478cfe8a6063ade2fdbda543dead88645d06c5578ad7eb24.png",
            "praline.png": "embedded\u002F2e68b6d12cd0fc5582da6b1806abe7b058369b31511b8fa957537b6411cd2036.png",
            "radish.png": "embedded\u002Fd8999ce2a75450ffccd7def0a37e0d9fecdd1a306d615cf785044676cf54628d.png",
            "raspberry.png": "embedded\u002F2441fb0b832ddb12f86fd239e6b8de19e99ee8f782e057fe6cc370c36949504e.png",
            "ritz.png": "embedded\u002Fab2b4d026f034e9200307d66774f1521a9e36f0b3c606dd29af78b3ccb5bdb13.png",
            "sausage.png": "embedded\u002Fa1e3bc4e028e4fc370a35a85241dd6b77a65984cf4a505d8927b124ab0c7ccec.png",
            "strawberry.png": "embedded\u002Fdd1798e41f3aa3f7a6ee24bf36a063d8efc6ea7383a72727e0e06d11a6c232b9.png",
            "tomato.png": "embedded\u002F234157f994729ffc30f075e160e922f9365adece2be97cc5e244b25b9892f65b.png",
            "walnut.png": "embedded\u002F9b577aa1fa52bdbac3a35ec0a85410adcb64c8e2637d930934e202e53b36b17f.png"
          },
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {
            "before:prepare": function anonymous() {
// RANDOMIZE RESPONSE OPTIONS
this.parameters.ImgA = Image_A
this.parameters.ImgB = Image_B

// randomly select one image among those presented during the task
this.parameters.imgTask = this.random.choice([this.parameters.ImgA, this.parameters.ImgB]);

// PRELOAD IMAGES
// create image array
attCheck_imgArray = ["brocoli.jpg", "watermelon.jpg", "burger.jpg",  this.parameters.imgTask[0]];
// preload media
// this.options.media.images = attCheck_imgArray.map(image => this.files[image]);

debugger 

// create variable with response options
this.parameters.attCheck_options = [
  {file: "brocoli.jpg", value: "brocoli_wrong"},
  {file: "watermelon.jpg", value: "watermelon_wrong"},
  {file: "burger.jpg", value: "burger_wrong"},
  {file: this.parameters.imgTask[0], value: "correct"}
  ];

// randomize order
attCheck_order = this.random.shuffle(this.parameters.attCheck_options);

// create parameters for response value & file
this.parameters.attCheck_valueA = attCheck_order[0].value;
this.parameters.attCheck_valueB = attCheck_order[1].value;
this.parameters.attCheck_valueC = attCheck_order[2].value;
this.parameters.attCheck_valueD = attCheck_order[3].value;


this.parameters.attCheck_fileA = attCheck_order[0].file;
this.parameters.attCheck_fileB = attCheck_order[1].file;
this.parameters.attCheck_fileC = attCheck_order[2].file;
this.parameters.attCheck_fileD = attCheck_order[3].file;
}
          },
          "title": "AttentionCheck",
          "tardy": true
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n    \n    \u003Cstyle\u003E\n        table {\n            border-collapse: collapse;\n            color: black;\n      }\n      \n        td {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: 1px solid black;\n        border-left: 0px;\n        border-right: 0px;\n        text-align: center;\n        width: 15%;\n        font-weight: bold;\n      }\n      \n        th {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-left: 0px;\n        border-right: 0px;\n        border-bottom: 1px solid black;\n        color: black;\n        width: 25%;\n        text-align: left;\n      }\n        \n    \u003C\u002Fstyle\u003E\n    \n    \u003Csection style=\"text-align: center;\"\u003E\n        \n        \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n            \u003Cp\u003EThe questions in this scale ask you about your feelings and thoughts in the past few months. In each case, you will be asked to indicate how often you felt or thought a certain way.\u003C\u002Fp\u003E\u003Cbr\u003E\n        \u003C\u002Fdiv\u003E\n\n        \u003Cform id=\"PSS\"\u003E\n            \u003Ctable\u003E\n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"PSS0\"\u003ENever\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"PSS1\"\u003EAlmost never\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"PSS2\"\u003ESometimes\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"PSS3\"\u003EFairly often\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"PSS4\"\u003EVery often\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E1. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you been upset because of something that happened unexpectedly?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item01\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item01\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item01\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item01\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item01\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E2. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you felt that you were unable to control the important things in your life?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item02\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item02\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item02\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item02\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item02\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E3. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you felt nervous and “stressed”?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item03\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item03\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item03\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item03\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item03\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E4. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you felt confident about your ability to handle your personal problems?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item04\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item04\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item04\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item04\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item04\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E5. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you felt that things were going your way?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item05\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item05\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item05\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item05\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item05\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E6. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you found that you could not cope with all the things that you had to do?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item06\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item06\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item06\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item06\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item06\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E7. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you been able to control irritations in your life?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item07\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item07\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item07\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item07\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item07\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E8. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you felt that you were on top of things?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item08\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item08\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item08\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item08\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item08\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E9. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you been angered because of things that were outside of your control?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item09\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item09\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item09\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item09\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item09\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E10. \u003Cspan style=\"font-weight:normal\"\u003EIn the last month, how often have you felt difficulties were piling up so high that you could not overcome them?\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item10\" value=\"0\" id=\"PSS0\" title=\"Never\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item10\" value=\"1\" id=\"PSS1\" title=\"Almot never\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item10\" value=\"2\" id=\"PSS2\" title=\"Sometimes\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item10\" value=\"3\" id=\"PSS3\" title=\"Fairly often\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"PSS_item10\" value=\"4\" id=\"PSS4\" title=\"Very often\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n            \u003C\u002Ftable\u003E\n        \u003C\u002Fform\u003E\n        \n\u003C\u002Fsection\u003E\n\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left: auto; margin-right: 0\"\u003E\n    \u003Cbutton type=\"submit\" form=\"PSS\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "PSS"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n    \n    \u003Cstyle\u003E\n        table {\n            border-collapse: collapse;\n            color: black;\n      }\n      \n        td {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-bottom: 1px solid black;\n        border-left: 0px;\n        border-right: 0px;\n        text-align: center;\n        width: 15%;\n        font-weight: bold;\n      }\n      \n        th {\n        padding-top: 10px;\n        padding-bottom: 10px;\n        border-left: 0px;\n        border-right: 0px;\n        border-bottom: 1px solid black;\n        color: black;\n        width: 25%;\n        text-align: left;\n      }\n        \n    \u003C\u002Fstyle\u003E\n    \n    \u003Csection style=\"text-align: center;\"\u003E\n        \n        \u003Cdiv style=\"font-size: 1.2rem\"\u003E\n            \u003Cp\u003EYou will find below several food groups. For each of them, please indicate how much you agree or disagree with the following statements. There is no good or bad answer, just indicate as honestly as possible the answer that corresponds to you.\u003C\u002Fp\u003E\u003Cbr\u003E\n        \u003C\u002Fdiv\u003E\n\n        \u003Cform id=\"FoodHabits\"\u003E\n            \n            \u003Cp style=\"text-align: left; font-weight: bold; font-size: 1.1rem\"\u003E1. Vegetables (salad, root vegetables, etc.) and carbohydrates (“carbs”; whole wheat bread, whole grain rice, potatoes,  lentils, etc.)\u003C\u002Fp\u003E\n            \n            \u003Ctable\u003E\n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits1\"\u003ECompletely disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits2\"\u003EFairly disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits3\"\u003ENeither agree nor disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits4\"\u003EFairly agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits5\"\u003ECompletely agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E \u003Cspan style=\"font-weight:normal\"\u003EI eat that frequently (several times a day or a week).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item1\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item1\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item1\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item1\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item1\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same psychological state (mood) or physiological state (e.g. during menstrual cycle).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item2\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item2\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item2\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item2\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item2\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same place.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item3\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item3\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item3\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item3\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item3\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that with the same people, or alone.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item4\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item4\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item4\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item4\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item4\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same manner, or in the same order.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item5\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item5\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item5\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item5\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item5\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that automatically, sometimes without even paying attention to it (for instance, popcorn at the movies).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item6\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item6\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item6\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item6\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item6\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI have a feeling of lacking something or I feel strange when I do not eat that.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item7\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item7\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item7\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item7\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Veg_item7\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n            \u003C\u002Ftable\u003E\n            \n            \u003Cbr\u003E\n            \u003Cbr\u003E\n            \n            \u003Cp style=\"text-align: left; font-weight: bold; font-size: 1.1rem\"\u003E2. Fruits (fresh fruits, dried fruits or nut-like fruits, etc.)\u003C\u002Fp\u003E\n            \n            \u003Ctable\u003E\n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits1\"\u003ECompletely disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits2\"\u003EFairly disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits3\"\u003ENeither agree nor disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits4\"\u003EFairly agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits5\"\u003ECompletely agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that frequently (several times a day or a week).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item1\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item1\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item1\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item1\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item1\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same psychological state (mood) or physiological state (e.g. during menstrual cycle).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item2\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item2\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item2\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item2\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item2\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same place.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item3\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item3\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item3\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item3\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item3\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that with the same people, or alone.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item4\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item4\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item4\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item4\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item4\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same manner, or in the same order.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item5\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item5\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item5\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item5\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item5\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that automatically, sometimes without even paying attention to it (for instance, popcorn at the movies).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item6\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item6\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item6\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item6\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item6\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI have a feeling of lacking something or I feel strange when I do not eat that.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item7\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item7\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item7\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item7\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Fru_item7\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n            \u003C\u002Ftable\u003E\n            \n            \u003Cbr\u003E\n            \u003Cbr\u003E\n            \n            \u003Cp style=\"text-align: left; font-weight: bold; font-size: 1.1rem\"\u003E3. Charcuterie, fat meat (salami, ham, dried meat, beef, etc.) and fried food (French fries, fried chicken, etc.)\u003C\u002Fp\u003E\n            \n            \u003Ctable\u003E\n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits1\"\u003ECompletely disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits2\"\u003EFairly disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits3\"\u003ENeither agree nor disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits4\"\u003EFairly agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits5\"\u003ECompletely agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that frequently (several times a day or a week).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item1\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item1\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item1\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item1\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item1\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same psychological state (mood) or physiological state (e.g. during menstrual cycle).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item2\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item2\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item2\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item2\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item2\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same place.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item3\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item3\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item3\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item3\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item3\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that with the same people, or alone.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item4\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item4\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item4\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item4\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item4\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same manner, or in the same order.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item5\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item5\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item5\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item5\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item5\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that automatically, sometimes without even paying attention to it (for instance, popcorn at the movies).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item6\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item6\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item6\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item6\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item6\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI have a feeling of lacking something or I feel strange when I do not eat that.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item7\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item7\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item7\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item7\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Meat_item7\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n            \u003C\u002Ftable\u003E\n            \n            \u003Cbr\u003E\n            \u003Cbr\u003E\n            \n            \u003Cp style=\"text-align: left; font-weight: bold; font-size: 1.1rem\"\u003E4. Sweets (chocolate, candies, biscuits, etc.)\u003C\u002Fp\u003E\n            \n            \u003Ctable\u003E\n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits1\"\u003ECompletely disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits2\"\u003EFairly disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits3\"\u003ENeither agree nor disagree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits4\"\u003EFairly agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Clabel for=\"FoodHabits5\"\u003ECompletely agree\u003C\u002Flabel\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that frequently (several times a day or a week).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item1\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item1\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item1\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item1\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item1\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same psychological state (mood) or physiological state (e.g. during menstrual cycle).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item2\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item2\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item2\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item2\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item2\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same place.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item3\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item3\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item3\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item3\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item3\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that with the same people, or alone.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item4\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item4\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item4\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item4\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item4\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI usually eat that in the same manner, or in the same order.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item5\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item5\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item5\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item5\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item5\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI eat that automatically, sometimes without even paying attention to it (for instance, popcorn at the movies).\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item6\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item6\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item6\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item6\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item6\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n                \u003Ctr\u003E\n                    \u003Cth\u003E\u003Cspan style=\"font-weight:normal\"\u003EI have a feeling of lacking something or I feel strange when I do not eat that.\u003C\u002Fspan\u003E\u003C\u002Fth\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item7\" value=\"1\" id=\"FoodHabits1\" title=\"Completely disagree\" required\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item7\" value=\"2\" id=\"FoodHabits2\" title=\"Fairly disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item7\" value=\"3\" id=\"FoodHabits3\" title=\"Neither agree nor disagree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item7\" value=\"4\" id=\"FoodHabits4\" title=\"Fairly agree\"\u003E\u003C\u002Ftd\u003E\n                    \u003Ctd\u003E\u003Cinput type=\"radio\" name=\"FoodHabits_Swe_item7\" value=\"5\" id=\"FoodHabits5\" title=\"Completely agree\"\u003E\u003C\u002Ftd\u003E\n                \u003C\u002Ftr\u003E\n                \n            \u003C\u002Ftable\u003E\n            \n        \u003C\u002Fform\u003E\n        \n\u003C\u002Fsection\u003E\n\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left: auto; margin-right: 0\"\u003E\n    \u003Cbutton type=\"submit\" form=\"FoodHabits\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "FoodHabits"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Csection style=\"text-align: center;\"\u003E\n    \u003Cform id=\"remarks\"\u003E\n\n        \u003Clabel for=\"input_remark\"\u003E\u003Cstrong\u003EPlease provide any remarks you may have about the study or about your answers \u003C\u002Fbr\u003E\n        (for instance, you made a mistake on one of the questionnaires and you would like to correct it):\u003C\u002Fstrong\u003E\u003C\u002Flabel\u003E \u003C\u002Fbr\u003E\n        \u003Cinput type=\"text\" name=\"input_remark\" id=\"input_remark\"\u003E\n      \n    \u003C\u002Fform\u003E\n  \u003C\u002Fsection\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left:auto; margin-right:0\"\u003E\n  \u003Cbutton type=\"submit\" form=\"remarks\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "Remarks"
        },
        {
          "type": "lab.html.Form",
          "content": "\u003Cmain style=\"width: 60%; margin: auto; text-align: left\"\u003E\n\n\t\u003Cdiv\u003E\n\t\t\u003Cstrong\u003EINFORMATION TO PARTICIPANTS AND CONFIRMATION OF PARTICIPATION CONSENT\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\t    \u003Cbr\u003E\n\t\t\u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cstrong\u003EInformation to Participants\u003C\u002Fstrong\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cp\u003EThank you for accepting to participate in this experiment. As we have previously indicated, the aim of this study was to measure food preferences through choices.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003EMore specifically, we are interested in the \u003Cstrong\u003Erole of stress in the consumption of unhealthy food\u003C\u002Fstrong\u003E. Indeed, one of the questionnaires that you completed focused on evaluating the stress level that you have felt in the past months. Now that you are aware of the specific goals of the research, we need you to confirm your consent of participation to this study.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003E\u003Cstrong\u003EIn the event you would refuse that your data be used, you can simply close the tab, and all your data will be immediately discarded.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\t\t\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cbr\u003E\n\t\n\t\u003Cdiv\u003E\n\t    \u003Cstrong\u003EParticipation Consent\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cp\u003EOn the basis of the information above, I \u003Cstrong\u003Ereassert\u003C\u002Fstrong\u003E my agreement to participate in the research “\u003Cstrong\u003EStudy of Food Preferences\u003C\u002Fstrong\u003E”, and I authorise:\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cform id=\"consentconfirmation_form\"\u003E\n\t\t\t\u003Cinput type=\"checkbox\" name=\"consentconfirmation_form1\" id=\"consentconfirmation_form1\" required\u003E\n\t\t\t\u003Clabel for=\"consentconfirmation_form1\"\u003E\n               The use of data for scientific purposes, and the publication of the results of this research in scientific reviews and books, on the understanding that these data will remain anonymous and that no information will be provided on my identity.\u003C\u002Flabel\u003E\u003Cbr\u003E\n\t\t\t\u003Cbr\u003E\n\t\t\t\u003Cinput type=\"checkbox\" name=\"consentconfirmation_form2\" id=\"consentconfirmation_form2\" required\u003E\n\t\t\t\u003Clabel for=\"consentconfirmation_form2\"\u003E\n               The use of data for educational purposes (lectures and seminars for students and professionals who are bound by professional secrecy).\u003C\u002Flabel\u003E\n\t\t\u003C\u002Fform\u003E\n\t\t\n\t\t\u003Cp\u003EI have \u003Cstrong\u003Evoluntarily\u003C\u002Fstrong\u003E chosen to participate in this research. I have been informed that I can withdraw at any moment without providing a justification.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003EThis consent form does not relieve the organisers of the research from their responsibilities. I retain all my rights guaranteed by law.\u003C\u002Fp\u003E\n\t\t\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cbr\u003E\n\t\u003Cbr\u003E\n\t\n\t\u003Cdiv\u003E\n\t\t\u003Cstrong\u003ERESEARCHERS COMMITMENT\u003C\u002Fstrong\u003E\u003Cbr\u003E\n\t    \u003Cbr\u003E\n\t\u003C\u002Fdiv\u003E\n\t\n\t\u003Cdiv\u003E\n\t    \n\t    \u003Cp\u003EThe researchers in charge of this project confirm that the information that appear on this consent form describe the research project accurately.\u003C\u002Fp\u003E\n\t\t\n\t\t\u003Cp\u003EThey commit themselves to proceed to this study in accordance with the ethics norms regarding research projects that involve human participants, in pursuance of the \u003Ci\u003EEthical code relative to research within the Faculty of psychology and educational sciences\u003C\u002Fi\u003E, and the \u003Ci\u003EDirectives relative to integrity in the domain of scientific research and to the procedures in case of violation of integrity\u003C\u002Fi\u003E of the University of Geneva.\u003C\u002Fp\u003E\n\t\n\t\u003C\u002Fdiv\u003E\n\n\u003C\u002Fmain\u003E\n\n\u003Cfooter style=\"margin-left: auto; margin-right: 0\"\u003E\n    \u003Cbutton type=\"submit\" form=\"consentconfirmation_form\"\u003EContinue &#8594\u003C\u002Fbutton\u003E\n\u003C\u002Ffooter\u003E",
          "scrollTop": true,
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "MaintainConsent"
        }
      ]
    },
    {
      "type": "lab.html.Screen",
      "files": {},
      "parameters": {
        "message": "Transferring data",
        "subtitle": "Please wait a second…"
      },
      "responses": {
        "": ""
      },
      "messageHandlers": {
        "run": function anonymous() {
const transmitPlugins = this.parents[0].plugins.plugins
  .filter(p => p instanceof lab.plugins.Transmit)

if (transmitPlugins.length > 0) {
  // If a transmitPlugin is available,
  // pull out its options and transfer the data
  const ds = this.options.datastore
  const tp = transmitPlugins[0]
  ds.transmit(
    tp.url,
    { ...tp.metadata, payload: 'full' },
    { headers: tp.headers, encoding: tp.encoding },
  ).then(
    () => this.end('transmission successful')
  ).catch(
    () => this.end('transmission failed')
  )
} else if ('jatos' in window) {
  // If JATOS is available, send data there
  jatos.submitResultData(
    this.options.datastore.exportJson(),
    () => this.end('transmission successful'),
    () => this.end('transmission failed')
  )
} else {
  this.end('no compatible backend')
}
}
      },
      "title": "data_transmission",
      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n    \u003Cimg src=\"lib\u002Floading.svg\"\u003E\n    \u003Cp\u003E\n      \u003Cspan class=\"font-weight-bold\"\u003E\n        ${ this.parameters.message }\n      \u003C\u002Fspan\u003E\u003Cbr\u003E\n      \u003Cspan class=\"text-muted\"\u003E\n        ${ this.parameters.subtitle }\n      \u003C\u002Fspan\u003E\n    \u003C\u002Fp\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
      "notes": "This template transmits the study data to a compatible server-side backend. Currently, it supports the PHP, Open Lab and JATOS backends.\n\nIt will wait until the data is transferred, showing a waiting screen with the text defined below, and continue with the remainder of the study after the transmission is complete. Please note that this screen will be skipped if no compatible backend is available."
    },
    {
      "type": "lab.html.Screen",
      "files": {},
      "responses": {
        "": ""
      },
      "parameters": {},
      "messageHandlers": {
        "run": function anonymous() {
this.end();
}
      },
      "title": "End",
      "content": "\u003Cmain class=\"content-horizontal-center content-vertical-center\"\u003E\n  \u003Cdiv\u003E\n  The study is now over. Thank you for your participation! \u003Cbr\u003E\u003Cbr\u003E\n  Please copy and paste the following code to Prolific to receive your compensation: \u003Cbr\u003E\u003Cbr\u003E\n  \u003Cb\u003E8E8DFDAB\u003C\u002Fb\u003E \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n  Once your participation has been confirmed on Prolific, you can close this window. \u003Cbr\u003E\u003Cbr\u003E\n  For any question or problem relative to this study, please contact the researcher in charge\u003Cbr\u003E of this project at the following email address: \u003Ca href=\"mailto:alessio.giarrizzo@unige.ch\"\u003Ealessio.giarrizzo@unige.ch\u003C\u002Fa\u003E\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
      "timeout": "1000"
    }
  ]
})

// Let's go!
study.run()